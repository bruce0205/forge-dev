{"version":3,"sources":["slices/currentMemberSlice.js","slices/commsSlice.js","slices/membersSlice.js","slices/salesSlice.js","slices/posLayoutDraftsSlice.js","apis/index.js","slices/posStripsSumSlice.js","slices/creditCardResponseSlice.js","slices/paymentMethodsSlice.js","slices/commClassesSlice.js","slices/receivedAmountsSlice.js","slices/paletteSlice.js","slices/invoiceInfoSlice.js","slices/salePaymentsSlice.js","slices/companyInfoSlice.js","store.js","helpers/fetcher.js","contexts/ColorModeContext.js","components/withTheme.js","components/Header.js","images/headerIcon.png","components/App.js","index.js","publicVariable.js","slices/currentIdsSlice.js","slices/visitsSlice.js","helpers/sweetAlert.js","slices/posLayoutsSlice.js","slices/tempOrdersSlice.js","slices/authSlice.js","slices/userSlice.js","slices/externalOrdersSlice.js","slices/posStripsSlice.js","slices/priceMappingSlice.js"],"names":["currentMemberSlice","createSlice","name","initialState","reducers","replaceCurrentMember","state","action","payload","extraReducers","actions","fetchComms","createAsyncThunk","params","thunkAPI","a","commRequest","get","headers","getState","auth","authenticated","sort","response","data","list","commsSlice","replaceComms","createComm","editComm","map","el","stockId","deleteComm","filter","comm","fulfilled","rejected","fetchMembers","memberRequest","membersSlice","fetchSales","salesRequest","status","fireDialogToast","salesSlice","replaceSales","deleteSale","id","posLayoutDraftsSlice","editPosLayoutDrafts","addPosLayoutDraft","stockList","initialGrid","editPosLayoutDraft","layout","deletePosLayoutDraft","editPosLayoutDraftItem","newContent","index","item","clearPosLayoutDraftItem","stockSeq","backgroundColor","initialColor","userRequest","axios","create","baseURL","commClassRequest","externalOrderRequest","salePointRequest","layoutRequest","quantity","total","primitiveTotal","convertReceivedAmounts","receivedAmounts","giveChangeAmount","creditCardInfo","newReceivedAmounts","1","Object","keys","paymentId","salePointPaymentId","value","success","creditCard","transType","hostId","invoiceNo","receiptNo","cardNo","transDate","transTime","approvalCode","approvalNo","posStripsSumSlice","replacePosStripsSum","checkout","dispatch","user","posStrips","posStripsSum","currentSalesmanId","currentTempOrderId","currentExternalOrderId","currentMember","companyInfo","creditCardResponse","pos","salePointId","cashRegisterId","locCode","salePoint","locationCode","sales","userId","member","actualTotal","discountRate","Math","round","discountTotal","salesmanCode","tempSalesId","taxId","uniformNumber","invoiceCarrier","carrierNum","salesDetails","strips","itemNo","price","salePrice","subTotal","originalTotal","salesPayments","post","salesId","salesInfo","deleteTempOrderWithLocal","type","increaseVisits","MySwal","fire","icon","title","width","timer","showConfirmButton","creditCardResponseSlice","replaceCreditCardResponse","fetchPaymentMethods","paymentMethodsSlice","loading","content","replacePaymentMethods","pending","typeObj","forEach","payment","fetchCommClasses","limit","commClassesSlice","createCommClass","editCommClass","ID","deleteCommClass","commClass","receivedAmountsSlice","updateReceivedAmounts","replaceReceivedAmounts","2","3","4","5","6","paletteSlice","editPreviousPalette","invoiceInfoSlice","taxIDNumber","carrierNumber","updateInvoiceInfo","fetchSalePayments","console","log","salePayments","replaceSalePayments","companyId","companyName","cashRegisterName","companyInfoSlice","updateCompanyInfo","store","configureStore","reducer","priceMapping","priceMappingReducer","paymentMethods","paymentMethodsReducer","authReducer","userReducer","comms","commsReducer","commClasses","commClassesReducer","posStripsReducer","posStripsSumReducer","receivedAmountsReducer","members","membersReducer","invoiceInfo","invoiceInfoReducer","tempOrders","tempOrdersReducer","externalOrders","externalOrdersReducer","salesReducer","salePaymentsReducer","currentMemberReducer","currentSalesmanIdReducer","currentTempOrderIdReducer","currentExternalOrderIdReducer","selectedExternalOrders","selectedExternalOrdersReducer","activeExternalOrder","activeExternalOrderReducer","posLayouts","posLayoutsReducer","posLayoutDrafts","posLayoutDraftsReducer","palette","paletteReducer","visits","visitsReducer","companyInfoReducer","preloadedState","localStorage","getItem","JSON","parse","fetcher","args","url","token","statusText","error","Error","info","React","createContext","toggleColorMode","withTheme","ChildComponent","props","useState","useMediaQuery","mode","setMode","colorMode","useMemo","prevMode","theme","createTheme","primary","main","teal","secondary","matte","background","default","light","paper","darkPaper","active","typography","fontSize","getDesignTokens","ColorModeContext","Provider","ThemeProvider","CssBaseline","connect","signout","initialVisits","useTheme","Box","component","sx","zIndex","position","display","alignItems","height","boxShadow","flexGrow","paddingRight","to","src","alt","padding","flex","alignSelf","textDecoration","justifyContent","fontWeight","cursor","color","margin","userSelect","transition","borderBottom","activeClassName","exact","border","borderRadius","mr","IconButton","size","onClick","PosPlatform","lazy","PosOrderList","Signin","CommManage","CompanyConfig","TouchPlatformBackstage","maxSnack","autoHideDuration","anchorOrigin","vertical","horizontal","fallback","path","Component","ReactDOM","render","document","querySelector","INITIAL_KEYBOARD_MODE","MULTIPLE_MODE","SETTLE_HOUR","getInitialLayouts","categoryName","uuidv4","categorySeq","currentTempOrderIdSlice","replaceCurrentTempOrderId","currentExternalOrderIdSlice","replaceCurrentExternalOrderId","currentSalesmanIdSlice","replaceCurrentSalesmanId","visitsSlice","replaceVisits","updateVisits","currentSalePointId","newVisitsDate","ceil","Date","getTime","localVisits","visitsDate","setItem","stringify","visitsNum","renewVisits","currentVisitsNum","currentVisitsDate","withReactContent","Swal","Toast","mixin","toast","willOpen","getContainer","style","didOpen","addEventListener","stopTimer","resumeTimer","target","fireErrorToast","targetDomName","fetchPosLayouts","postPosLayouts","callback","errorCallback","mappedSeqDraft","posLayoutsSlice","replacePosLayouts","length","demoTempOrder","timestamp","totalQuantity","totalAmount","stockName","discount","memberCode","memberName","email","birthdate","phone","companyPhone","homePhone","totalConsumption","accumulatedBonus","transactionSalePointId","pets","memberId","petCode","petName","genderId","gender","birthday","petTypeId","petVarietyId","icCard","tempOrdersSlice","replaceTempOrders","addTempOrder","editTempOrder","order","deleteTempOrder","getTempOrderWithLocal","newTempOrders","addTempOrderWithLocal","level","errorMessage","authSlice","authUser","authError","signin","formProps","encodedContent","window","btoa","userName","password","xCust","TokenData","userData","salePointsData","newUserInfo","salePoints","replaceUser","removeItem","userSlice","selectedSalePoint","fetchExternalOrders","fetchOrderDetail","fetchActiveExternalOrder","externalOrdersSlice","replaceExternalOrders","activeExternalOrderSlice","replaceActiveExternalOrder","selectedExternalOrdersSlice","removeSelectedExternalOrder","replaceSelectedExternalOrders","clearSelectedExternalOrders","addSelectedExternalOrder","selectAllExternalOrders","orders","Promise","all","selectedOrders","posStripsSlice","replacePosStrips","clearPosStrips","addPosStrip","find","deletePosStrip","getPriceMappingFromList","newPriceMapping","fetchPriceMapping","stockIdList","stockItem","stockIdsString","join","stockIds","priceMappingSlice","updatePriceMapping","replacePriceMapping"],"mappings":"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","file":"static/js/main.ac4a5f4e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {}\n\nexport const currentMemberSlice = createSlice({\n  name: 'currentMember',\n  initialState,\n  reducers: {\n    replaceCurrentMember: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return {}\n    },\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      return {}\n    },\n  },\n})\n\nexport const { replaceCurrentMember } = currentMemberSlice.actions\n\nexport const selectCurrentMember = state => state.currentMember\n\nexport default currentMemberSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { commRequest } from '../apis'\n\nconst initialState = []\n\nexport const fetchComms = createAsyncThunk('comms/fetchComms', async (params, thunkAPI) => {\n  const response = await commRequest.get('', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: {\n      sort: 'sale_start_date desc',\n      ...params\n    },\n  })\n  return response.data.list\n})\n\nexport const commsSlice = createSlice({\n  name: 'comms',\n  initialState,\n  reducers: {\n    replaceComms: (state, action) => {\n      return action.payload\n    },\n    createComm: (state, action) => {\n      return [...state, action.payload]\n    },\n    editComm: (state, action) => {\n      return state.map(el => el.stockId === action.payload.stockId ? action.payload : el)\n    },\n    deleteComm: (state, action) => {\n      return state.filter(comm => comm.stockId !== action.payload)\n    },\n  },\n  extraReducers: {\n    [fetchComms.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchComms.rejected]: (state, action) => {\n      return []\n    },\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { replaceComms, createComm, editComm, deleteComm } = commsSlice.actions\n\nexport const selectComms = state => state.comms\n\nexport default commsSlice.reducer\n\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { memberRequest } from '../apis'\n\nconst initialState = []\n\nexport const fetchMembers = createAsyncThunk('members/fetchMembers', async (params, thunkAPI) => {\n  const { data } = await memberRequest.get('', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: {\n      sort: 'create_time desc',\n      ...params\n    },\n  })\n  return data.list\n})\n\nexport const membersSlice = createSlice({\n  name: 'members',\n  initialState,\n  reducers: {\n    replaceComms: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    [fetchMembers.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchMembers.rejected]: (state, action) => {\n      return []\n    },\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { replaceComms } = membersSlice.actions\n\nexport const selectMembers = state => state.members\n\nexport default membersSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { salesRequest } from '../apis'\nimport { fireDialogToast } from '../helpers/sweetAlert'\n\nconst initialState = {}\n\nexport const fetchSales = createAsyncThunk('sales/fetchSales', async (params, thunkAPI) => {\n  const response = await salesRequest.get('', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: {\n      sort: 'date desc',\n      ...params\n    },\n  })\n  if (response.status === 403) {\n    fireDialogToast('警告: 權限不足', 'warning')\n    return {}\n  }\n  return response.data\n})\n\nconst salesSlice = createSlice({\n  name: 'sales',\n  initialState,\n  reducers: {\n    replaceSales: (state, action) => {\n      return action.payload\n    },\n    deleteSale: (state, action) => {\n      state.list = state.list.filter(el => el.id !== action.payload)\n    },\n  },\n  extraReducers: {\n    [fetchSales.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchSales.rejected]: (state, action) => {\n      return {}\n    },\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      return {}\n    },\n  }\n})\n\nexport const { replaceSales, deleteSale } = salesSlice.actions\n\nexport default salesSlice.reducer\n","import { createSlice } from '@reduxjs/toolkit'\nimport { initialColor, initialGrid } from '../publicVariable'\n\nconst initialState = []\n\nexport const posLayoutDraftsSlice = createSlice({\n  name: 'posLayoutDrafts',\n  initialState,\n  reducers: {\n    editPosLayoutDrafts: (state, action) => {\n      return action.payload\n    },\n    addPosLayoutDraft: (state, action) => {\n      return [...state, { ...action.payload, stockList: initialGrid }]\n    },\n    editPosLayoutDraft: (state, action) => {\n      return state.map(el => el.id === action.payload.id ? action.payload.layout : el)\n    },\n    deletePosLayoutDraft: (state, action) => {\n      return state.filter(el => {\n        return el.id !== action.payload\n      })\n    },\n    editPosLayoutDraftItem: (state, action) => {\n      return state.map(el => {\n        if (el.id === action.payload.id) {\n          const newContent = [...el.stockList]\n          newContent[action.payload.index] = action.payload.item;\n          return { ...el, stockList: newContent }\n        } else {\n          return el\n        }\n      })\n    },\n    clearPosLayoutDraftItem: (state, action) => {\n      return state.map(el => {\n        if (el.id === action.payload.id) {\n          const newContent = [...el.stockList]\n          newContent[action.payload.index] = {\n            stockSeq: action.payload.index,\n            backgroundColor: initialColor,\n          }\n          return { ...el, stockList: newContent }\n        } else {\n          return el\n        }\n      })\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { editPosLayoutDrafts, addPosLayoutDraft, editPosLayoutDraft, deletePosLayoutDraft, editPosLayoutDraftItem, clearPosLayoutDraftItem } = posLayoutDraftsSlice.actions\n\nexport const selectPosLayoutDrafts = state => state.posLayoutDrafts\n\nexport default posLayoutDraftsSlice.reducer","import axios from 'axios'\n\nexport const basicRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api',\n})\n\nexport const userRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/user'\n})\n\nexport const memberRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/member'\n})\n\nexport const commRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/stock-master'\n})\n\nexport const commClassRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/stock-category'\n})\n\nexport const externalOrderRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/temp-sales',\n})\n\nexport const salePointRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/pos',\n})\n\nexport const layoutRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/pos/stock/grid'\n})\n\nexport const salesRequest = axios.create({\n  baseURL: 'https://apidrvet.drvet.info/api/sales',\n})\n\n\n\n// http://35.234.32.121:8088","import { createSlice } from '@reduxjs/toolkit'\nimport { increaseVisits } from './visitsSlice'\nimport { salesRequest } from '../apis'\nimport { deleteTempOrderWithLocal } from './tempOrdersSlice'\nimport { MySwal, fireDialogToast } from '../helpers/sweetAlert'\n\nconst initialState = {\n  quantity: 0,\n  total: 0,\n  // 各原價總和\n  primitiveTotal: 0,\n}\n\nconst mapStripsData = strips => {\n  return strips.map((item, index) => (\n    {\n      itemNo: index + 1,\n      stockId: item.stockId,\n      quantity: item.quantity,\n      price: item.price,\n      salePrice: item.salePrice,\n      subTotal: item.total,\n      discountRate: (item.price === 0) ? 100 : Math.round((item.total * 100) / item.originalTotal),\n    }\n  ))\n}\n\nconst convertReceivedAmounts = (receivedAmounts, giveChangeAmount, creditCardInfo) => {\n  // 如果有找零金額，用已收的現金來扣除\n  const newReceivedAmounts = giveChangeAmount\n    ? { ...receivedAmounts, 1: (receivedAmounts[1] - giveChangeAmount) }\n    : receivedAmounts\n\n  const paymentIds = Object.keys(newReceivedAmounts)\n  return paymentIds.map(paymentId => ({\n    salePointPaymentId: paymentId,\n    value: newReceivedAmounts[paymentId],\n    ...((paymentId === '2' && creditCardInfo?.success && creditCardInfo?.response) && {\n      creditCard: {\n        transType: creditCardInfo.response.transType,\n        hostId: creditCardInfo.response.hostId,\n        invoiceNo: creditCardInfo.response.receiptNo,\n        cardNo: creditCardInfo.response.cardNo,\n        transDate: creditCardInfo.response.transDate,\n        transTime: creditCardInfo.response.transTime,\n        approvalCode: creditCardInfo.response.approvalNo,\n      }\n    }),\n  }))\n}\n\n\nexport const posStripsSumSlice = createSlice({\n  name: 'posStripsSum',\n  initialState,\n  reducers: {\n    replacePosStripsSum: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return initialState\n    },\n    'signout': (state, action) => {\n      return initialState\n    },\n    'changeSalePoint': (state, action) => {\n      return initialState\n    },\n  },\n})\n\nexport const checkout = (params) => async (dispatch, getState) => {\n  try {\n    const { auth: { authenticated }, user, posStrips, posStripsSum, receivedAmounts, currentSalesmanId, currentTempOrderId, currentExternalOrderId, currentMember, companyInfo, creditCardResponse } = getState()\n\n    const data = {\n      pos: {\n        salePointId: user.salePointId,\n        cashRegisterId: companyInfo.cashRegisterId,\n        locCode: user.salePoint.locationCode,\n      },\n      sales: {\n        userId: user.userId,\n        member: currentMember.id,\n        total: posStripsSum.primitiveTotal,\n        actualTotal: posStripsSum.total,\n        quantity: posStripsSum.quantity,\n        discountRate: (posStripsSum.primitiveTotal === 0) ? 100 : Math.round((posStripsSum.total * 100) / posStripsSum.primitiveTotal),\n        discountTotal: posStripsSum.primitiveTotal - posStripsSum.total,\n        ...(currentSalesmanId && { salesmanCode: currentSalesmanId }),\n        ...(currentExternalOrderId && { tempSalesId: currentExternalOrderId }),\n        ...(params.taxId && { uniformNumber: params.taxId }),\n        ...(params.invoiceCarrier && { carrierNum: params.invoiceCarrier }),\n      },\n      salesDetails: mapStripsData(posStrips),\n      salesPayments: convertReceivedAmounts(\n        receivedAmounts, params.giveChangeAmount, creditCardResponse\n      ),\n    }\n\n    const headers = { 'Authorization': 'Bearer ' + authenticated }\n\n    const { data: { salesId } } = await salesRequest.post('', data, { headers })\n    const { data: salesInfo } = await salesRequest.get(`/${salesId}`, { headers })\n    // printReceipt(salesInfo)\n\n    if (currentTempOrderId) {\n      dispatch(deleteTempOrderWithLocal(currentTempOrderId))\n    }\n\n    dispatch({ type: 'checkout' })\n    dispatch(increaseVisits())\n\n    MySwal.fire({\n      icon: 'success',\n      title: '完成結帳',\n      width: '20rem',\n      timer: 1500,\n      showConfirmButton: false,\n    })\n\n    return salesInfo\n  } catch (error) {\n    fireDialogToast(error, 'error')\n    return false\n  }\n}\n\nexport const { replacePosStripsSum } = posStripsSumSlice.actions\n\nexport const selectPosStripsSumSlice = state => state.posStripsSumSlice\n\nexport default posStripsSumSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {}\n\nconst creditCardResponseSlice = createSlice({\n  name: 'creditCardResponse',\n  initialState,\n  reducers: {\n    replaceCreditCardResponse: (state, action) => {\n      return action.payload\n    },\n  }\n})\n\nexport const { replaceCreditCardResponse } = creditCardResponseSlice.actions\nexport const selectCreditCardResponse = state => state.creditCardResponse\n\nexport default creditCardResponseSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { salePointRequest } from '../apis'\n// import { omit } from 'lodash-es'\n\nconst initialState = {\n  loading: 'initial',\n  content: {},\n}\n\nexport const fetchPaymentMethods = createAsyncThunk('paymentMethods/fetchPaymentMethods', async (params, thunkAPI) => {\n  const { data } = await salePointRequest.get('/payment', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    // params: { isPrint: 1 },\n  })\n  return data\n})\n\nconst paymentMethodsSlice = createSlice({\n  name: 'paymentMethods',\n  initialState,\n  reducers: {\n    replacePaymentMethods: (state, action) => {\n      state.content = action.payload\n    },\n  },\n  extraReducers: {\n    [fetchPaymentMethods.pending]: (state, action) => {\n      state.loading = 'pending'\n    },\n    [fetchPaymentMethods.fulfilled]: (state, action) => {\n      const typeObj = {}\n\n      action.payload.forEach(payment => {\n        if (typeObj[payment.id]) return\n        typeObj[payment.id] = payment\n      })\n      // 以 salePointPaymentsTypeId 分類的方法如下\n      // action.payload.forEach(payment => {\n      //   if (typeObj[payment.salePointPaymentsTypeId]) {\n      //     typeObj[payment.salePointPaymentsTypeId].branches.push(\n      //       omit(payment, 'salePointPaymentType')\n      //     )\n      //   } else {\n      //     typeObj[payment.salePointPaymentsTypeId] = {\n      //       ...payment.salePointPaymentType,\n      //       branches: [omit(payment, 'salePointPaymentType')],\n      //     }\n      //   }\n      // })\n      state.loading = 'idle'\n      state.content = typeObj\n    },\n    [fetchPaymentMethods.rejected]: (state, action) => {\n      state.loading = 'pending'\n    },\n    // 'signout': (state, action) => {\n\n    // },\n    // 'changeSalePoint': (state, action) => {\n\n    // },\n  },\n})\n\nexport const {\n  replacePaymentMethods,\n} = paymentMethodsSlice.actions\n\nexport const selectPaymentMethods = state => state.paymentMethods.content\n\nexport default paymentMethodsSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { commClassRequest } from '../apis'\n\nexport const fetchCommClasses = createAsyncThunk('commClasses/fetchCommClasses', async (params, thunkAPI) => {\n  try {\n    const { data } = await commClassRequest.get('', {\n      headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n      params: {\n        limit: 'zero',\n        ...params,\n      },\n    })\n    return data.list\n  } catch (error) {\n    return []\n  }\n})\n\nexport const commClassesSlice = createSlice({\n  name: 'commClasses',\n  initialState: [],\n  reducers: {\n    createCommClass: (state, action) => {\n      return [...state, action.payload]\n    },\n    editCommClass: (state, action) => {\n      return state.map(el => el.ID === action.payload.ID ? action.payload : el)\n    },\n    deleteCommClass: (state, action) => {\n      return state.filter(commClass => commClass.ID !== action.payload)\n    },\n  },\n  extraReducers: {\n    [fetchCommClasses.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchCommClasses.rejected]: (state, action) => {\n      return []\n    },\n    'signout': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { createCommClass, editCommClass, deleteCommClass } = commClassesSlice.actions\n\nexport const selectCommClasses = state => state.commClasses\n\nexport default commClassesSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  // 1: 1000,\n  // 2: 2000,\n  // '04fddc85-da6a-11e7-aba2-42010af00002': 1200,\n}\n\nexport const receivedAmountsSlice = createSlice({\n  name: 'receivedAmounts',\n  initialState,\n  reducers: {\n    updateReceivedAmounts: (state, action) => {\n      return { ...state, ...action.payload }\n    },\n    replaceReceivedAmounts: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return {}\n    },\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      return {}\n    },\n  },\n})\n\nexport const { updateReceivedAmounts, replaceReceivedAmounts } = receivedAmountsSlice.actions\n\nexport const selectReceivedAmounts = state => state.receivedAmounts\n\nexport default receivedAmountsSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  1: '#22B8BB',\n  2: '#DCDE3F',\n  3: '#FFFFFF',\n  4: '#FFAA67',\n  5: '#FFDA64',\n  6: '#FFE5E5',\n}\n\nexport const paletteSlice = createSlice({\n  name: 'palette',\n  initialState,\n  reducers: {\n    editPreviousPalette: (state, action) => {\n      return { 1: action.payload, 2: state[1], 3: state[2], 4: state[3], 5: state[4], 6: state[5] }\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return initialState\n    },\n    'changeSalePoint': (state, action) => {\n      return initialState\n    },\n  },\n})\n\nexport const { editPreviousPalette } = paletteSlice.actions\n\nexport const selectPalette = state => state.palette\n\nexport default paletteSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  taxIDNumber: '',\n  carrierNumber: '',\n}\n\nconst invoiceInfoSlice = createSlice({\n  name: 'invoiceInfo',\n  initialState,\n  reducers: {\n    updateInvoiceInfo: (state, action) => {\n      return { ...state, ...action.payload }\n    },\n  },\n});\n\nexport const {\n  updateInvoiceInfo,\n} = invoiceInfoSlice.actions\n\nexport const selectInvoiceInfo = state => state.invoiceInfo\n\nexport default invoiceInfoSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { salesRequest } from '../apis'\n\nconst initialState = []\n\nexport const fetchSalePayments = createAsyncThunk('salePayments/fetchSalePayments', async (params, thunkAPI) => {\n  const { data } = await salesRequest.get('/payment/summary', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: params,\n  })\n  console.log('fetchSalePayments', data)\n  return data.list\n})\n\nconst salePayments = createSlice({\n  name: 'salePayments',\n  initialState,\n  reducers: {\n    replaceSalePayments: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    [fetchSalePayments.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchSalePayments.rejected]: (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { replaceSalePayments } = salePayments.actions\n\nexport default salePayments.reducer\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  companyId: '',\n  companyName: '',\n  cashRegisterId: '774a3e8f-b060-11ea-9e33-42010a8c0fd4',\n  cashRegisterName: 'Test-1',\n}\n\nexport const companyInfoSlice = createSlice({\n  name: 'companyInfo',\n  initialState,\n  reducers: {\n    updateCompanyInfo: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return initialState\n    },\n  },\n})\n\nexport const { updateCompanyInfo } = companyInfoSlice.actions\n\nexport const selectCompanyInfo = state => state.companyInfo\n\nexport default companyInfoSlice.reducer","import { configureStore } from '@reduxjs/toolkit'\nimport priceMappingReducer from './slices/priceMappingSlice'\nimport paymentMethodsReducer from './slices/paymentMethodsSlice'\nimport authReducer from './slices/authSlice'\nimport userReducer from './slices/userSlice'\nimport commsReducer from './slices/commsSlice'\nimport commClassesReducer from './slices/commClassesSlice'\nimport posStripsReducer from './slices/posStripsSlice'\nimport posStripsSumReducer from './slices/posStripsSumSlice'\nimport currentMemberReducer from './slices/currentMemberSlice'\nimport membersReducer from './slices/membersSlice'\nimport invoiceInfoReducer from './slices/invoiceInfoSlice'\nimport receivedAmountsReducer from './slices/receivedAmountsSlice'\nimport creditCardResponseSlice from './slices/creditCardResponseSlice'\nimport {\n  externalOrdersReducer,\n  activeExternalOrderReducer,\n  selectedExternalOrdersReducer,\n} from './slices/externalOrdersSlice'\nimport salesReducer from './slices/salesSlice'\nimport salePaymentsReducer from './slices/salePaymentsSlice'\nimport tempOrdersReducer from './slices/tempOrdersSlice'\nimport paletteReducer from './slices/paletteSlice'\nimport companyInfoReducer from './slices/companyInfoSlice'\nimport posLayoutsReducer from './slices/posLayoutsSlice'\nimport posLayoutDraftsReducer from './slices/posLayoutDraftsSlice'\nimport visitsReducer from './slices/visitsSlice'\nimport {\n  currentSalesmanIdReducer,\n  currentTempOrderIdReducer,\n  currentExternalOrderIdReducer,\n} from './slices/currentIdsSlice'\n\n\nexport const store = configureStore({\n  reducer: {\n    priceMapping: priceMappingReducer,\n    paymentMethods: paymentMethodsReducer,\n\n    auth: authReducer,\n    user: userReducer,\n    comms: commsReducer,\n    commClasses: commClassesReducer,\n    posStrips: posStripsReducer,\n    posStripsSum: posStripsSumReducer,\n    receivedAmounts: receivedAmountsReducer,\n    members: membersReducer,\n    invoiceInfo: invoiceInfoReducer,\n    creditCardResponse: creditCardResponseSlice,\n\n    tempOrders: tempOrdersReducer,\n    externalOrders: externalOrdersReducer,\n    sales: salesReducer,\n    salePayments: salePaymentsReducer,\n\n    currentMember: currentMemberReducer,\n    currentSalesmanId: currentSalesmanIdReducer,\n    currentTempOrderId: currentTempOrderIdReducer,\n    currentExternalOrderId: currentExternalOrderIdReducer,\n    selectedExternalOrders: selectedExternalOrdersReducer,\n    activeExternalOrder: activeExternalOrderReducer,\n\n    posLayouts: posLayoutsReducer,\n    posLayoutDrafts: posLayoutDraftsReducer,\n    palette: paletteReducer,\n    visits: visitsReducer,\n    companyInfo: companyInfoReducer,\n  },\n  preloadedState:\n  {\n    auth: { authenticated: localStorage.getItem('token') },\n    user: JSON.parse(localStorage.getItem('userInfo')) || {},\n    currentSalesmanId: JSON.parse(localStorage.getItem('userInfo'))?.userId || '',\n    // companyInfo: { ...window.localData.companyInfo }\n  },\n})","import axios from 'axios'\nconst baseURL = 'https://apidrvet.drvet.info/api'\n\nexport const fetcher = async (...args) => {\n  const [url, token, params] = args\n  const response = await axios.get(baseURL + url, {\n    headers: {\n      'Authorization': token && `Bearer ${token}`,\n    },\n    params: {\n      ...params\n    },\n  })\n\n  if (response.statusText !== 'OK') {\n    const error = new Error('An error occurred while fetching the data.')\n\n    error.info = response.statusText\n    error.status = response.status\n    throw error\n  }\n\n  return response.data\n}\n\n// const dummyRes = {\n//   \"data\": {\n//     \"currentPage\": 1,\n//     \"list\": [],\n//     \"totalCount\": 2350,\n//     \"totalPage\": 157\n//   },\n//   \"status\": 200,\n//   \"statusText\": \"OK\",\n//   \"headers\": {\n//     \"content-type\": \"application/json; charset=utf-8\"\n//   },\n//   \"config\": {\n//     \"transitional\": {\n//       \"silentJSONParsing\": true,\n//       \"forcedJSONParsing\": true,\n//       \"clarifyTimeoutError\": false\n//     },\n//     \"transformRequest\": [\n//       null\n//     ],\n//     \"transformResponse\": [\n//       null\n//     ],\n//     \"timeout\": 0,\n//     \"xsrfCookieName\": \"XSRF-TOKEN\",\n//     \"xsrfHeaderName\": \"X-XSRF-TOKEN\",\n//     \"maxContentLength\": -1,\n//     \"maxBodyLength\": -1,\n//     \"headers\": {\n//       \"Accept\": \"application/json, text/plain, */*\",\n//       \"Authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjdXN0Tm8iOiJkZW1vIiwiZXhwIjoxNjUyMzQwODYzLCJ0YXJnZXQiOiJkZW1vX2RydmV0X3NlcnZlciIsInVzZXJJZCI6InRlc3QxMjMifQ.rR90Plt7NCJJjtzbHMRNShKYPpQnajC4BFELUAJgr4A\"\n//     },\n//     \"baseURL\": \"https://apidrvet.drvet.info/api/stock-master\",\n//     \"params\": {\n//       \"sort\": \"sale_start_date desc\",\n//       \"limit\": 15\n//     },\n//     \"method\": \"get\",\n//     \"url\": \"\"\n//   },\n//   \"request\": {}\n// }\n\n\n","import React from 'react'\n\nexport default React.createContext({ toggleColorMode: () => { } })","import React, { useState, useMemo } from 'react'\nimport { ThemeProvider, createTheme } from '@mui/material/styles'\nimport { useMediaQuery, CssBaseline } from '@mui/material'\nimport { teal } from '@mui/material/colors'\nimport ColorModeContext from '../contexts/ColorModeContext'\n\nconst getDesignTokens = (mode) => ({\n  palette: {\n    mode,\n    primary: {\n      main: '#f2af44',\n      ...(mode === 'dark' && {\n        main: teal[300],\n      }),\n    },\n    secondary: {\n      main: '#3e414f',\n      matte: '#505877',\n    },\n    background: {\n      default: '#ffffff',\n      light: '#f5f5f5',\n      paper: '#fafafa',\n      darkPaper: '#efefef',\n    },\n    active: {\n      main: '#d5e7ee',\n      light: '#ddf2f9',\n    },\n  },\n  typography: {\n    // In Chinese and Japanese the characters are usually larger,\n    // so a smaller fontsize may be appropriate.\n    fontSize: 13,\n  },\n})\n\nconst withTheme = ChildComponent => {\n  const ComposedComponent = props => {\n    const [mode, setMode] = useState(\n      useMediaQuery('(prefers-color-scheme: dark)')\n        ? 'dark'\n        : 'light'\n    )\n\n    const colorMode = useMemo(\n      () => ({\n        toggleColorMode: () => {\n          setMode((prevMode) => (prevMode === 'light' ? 'dark' : 'light'))\n        }\n      }), []\n    )\n\n    const theme = useMemo(\n      () => (\n        createTheme(getDesignTokens(mode))\n      ), [mode]\n    )\n\n    return (\n      <ColorModeContext.Provider value={colorMode}>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <ChildComponent {...props} />\n        </ThemeProvider>\n      </ColorModeContext.Provider>\n    );\n  }\n\n  return ComposedComponent\n}\n\nexport default withTheme","import React from 'react'\nimport { connect } from 'react-redux'\nimport { NavLink } from 'react-router-dom'\nimport { useTheme, Box, IconButton } from '@mui/material'\nimport SettingsIcon from '@mui/icons-material/Settings'\nimport ExitToAppIcon from '@mui/icons-material/ExitToApp'\n// import { useSelector } from 'react-redux'\n// import { io } from 'socket.io-client'\n// import { useSnackbar } from 'notistack'\n// import { selectAuthUser } from '../slices/authSlice'\n// import CustomSnackbar from '../components/Element/CustomSnackbar'\n// import { useHistory } from 'react-router-dom'\n// import { changeSalePoint } from '../slices/userSlice'\nimport { initialVisits } from '../slices/visitsSlice'\nimport headerIcon from '../images/headerIcon.png'\nimport { signout } from '../slices/authSlice'\n\n\nconst Header = props => {\n  const theme = useTheme()\n  // const [socket, setSocket] = useState(null)\n  // const { enqueueSnackbar } = useSnackbar()\n  // const auth = useSelector(selectAuthUser)\n  // const history = useHistory()\n\n\n  // const connectSocketIO = () => {\n  //   // Namespace 之後改成與門市相關，例如門市ID\n  //   const newSocket = io('http://localhost:9000/')\n  //   newSocket.on('connect', () => { console.log('connect') })\n  //   newSocket.on('disconnect', () => { console.log('disconnect disconnect disconnect') })\n  //   setSocket(newSocket)\n  // }\n  // useEffect(() => {\n  //   // 之後改成檢查是否有門市相關，例如門市ID\n  //   if (socket && !auth) {\n  //     socket.disconnect()\n  //     setSocket(null)\n  //   }\n  //   if (!socket && auth) connectSocketIO()\n  // }, [auth, socket])\n\n  // useEffect(() => {\n  //   if (socket) {\n  //     socket.on('getNotification', message => {\n  //       enqueueSnackbar('new message', {\n  //         variant: 'info',\n  //         content: (key, message) => (\n  //           <CustomSnackbar message={message} />\n  //         )\n  //       })\n  //     })\n  //     socket.emit('startNotify', '請開始發送通知')\n  //   }\n  // }, [socket, enqueueSnackbar])\n\n\n  const onSignoutClick = () => {\n    props.signout()\n    // window.location.reload()\n  }\n\n  // const onSalePointChange = e => {\n  //   props.changeSalePoint(e.target.value)\n  //   props.initialVisits(e.target.value)\n  //   history.push('/')\n  // }\n\n  // const renderOptions = salePoints => {\n  //   return salePoints && salePoints.map(point => (\n  //     <option key={point.id} value={point.id}>{point.salePointName}</option>\n  //   ))\n  // }\n\n  return (\n    <Box component=\"header\"\n      sx={{\n        zIndex: 10,\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        backgroundColor: 'background.default',\n        height: '2.5rem',\n        boxShadow: 'inset 0px 0px 12px -5px #dddddd',\n        '& > div:first-of-type': {\n          flexGrow: 1,\n          display: 'flex',\n          alignItems: 'center',\n        },\n        '& > div:last-of-type': {\n          paddingRight: '1rem',\n        },\n      }}\n    >\n      <div>\n        <NavLink to=\"/\">\n          <Box component=\"img\" src={headerIcon} alt=\"header-icon\" sx={{ padding: '0 0.5em', width: '6rem', height: '1.6rem' }} />\n        </NavLink>\n        {props.auth\n          ? (\n            <Box component=\"div\"\n              sx={{\n                flex: '1',\n                display: 'inline-flex',\n                alignSelf: 'stretch',\n                '& a': {\n                  textDecoration: 'none',\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontWeight: 'bold',\n                  cursor: 'pointer',\n                  color: '#333333',\n                  margin: '0 0.25em',\n                  padding: '1em 0.5em 0',\n                  userSelect: 'none',\n                  transition: 'all 0.2s linear',\n                },\n                '& a:hover': {\n                  color: theme.palette.primary.main,\n                },\n\n                '& a.active': {\n                  color: theme.palette.primary.main,\n                  borderBottom: `0.35em solid ${theme.palette.primary.main}`,\n                },\n              }}\n            >\n              <NavLink to=\"/\" activeClassName=\"active\" exact>\n                POS首頁\n              </NavLink>\n              <NavLink to=\"/pos-order-list\" activeClassName=\"active\">\n                銷售明細\n              </NavLink>\n              <NavLink to=\"/backstage/comm\" activeClassName=\"active\">\n                商品目錄\n              </NavLink>\n              <NavLink to=\"/backstage/layout\" activeClassName=\"active\">\n                網格管理\n              </NavLink>\n            </Box>\n          )\n          : null\n        }\n      </div>\n\n      {props.auth\n        ? (\n          <Box component=\"div\"\n            sx={{\n              '& select': {\n                color: '#666666',\n                border: '1px solid #dddddd',\n                borderRadius: '0.25em',\n                mr: '0.5em',\n              },\n              '& span': {\n                color: 'secondary.main',\n              },\n              '& .MuiSvgIcon-root': {\n                color: 'secondary.main',\n              },\n            }}\n          >\n            {/* <select\n              value={props.user.salePointId}\n              onChange={onSalePointChange}\n            >\n              {renderOptions(props.user.salePoints)}\n            </select> */}\n            <NavLink to=\"/company-config\" activeClassName=\"active\">\n              <IconButton size=\"small\">\n                <SettingsIcon fontSize=\"small\" />\n              </IconButton>\n            </NavLink>\n            <IconButton size=\"small\" onClick={onSignoutClick}>\n              <ExitToAppIcon fontSize=\"small\" sx={{\n                transition: 'all 0.2s ease-out',\n                '&:hover': {\n                  color: 'error.light',\n                },\n              }} />\n            </IconButton>\n          </Box>\n        )\n        : null\n      }\n    </Box>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    auth: state.auth.authenticated,\n  }\n}\n\nexport default connect(mapStateToProps, {\n  signout,\n  initialVisits,\n  // changeSalePoint,\n})(Header)\n\n\n","export default \"data:image/png;base64,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\"","import React, { Suspense, lazy } from 'react'\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\nimport { SnackbarProvider } from 'notistack'\nimport { SWRConfig } from 'swr'\nimport { fetcher } from '../helpers/fetcher'\nimport withTheme from './withTheme'\nimport Header from './Header'\n// import { connect } from 'react-redux'\n// import { updateCompanyInfo } from '../slices/companyInfoSlice'\n\nconst PosPlatform = lazy(() => import('./PosPlatform/PosPlatform'))\nconst PosOrderList = lazy(() => import('./PosOrderList/PosOrderList'))\nconst Signin = lazy(() => import('./Auth/Signin'))\nconst CommManage = lazy(() => import('./CommManage/CommManage'))\nconst CompanyConfig = lazy(() => import('./CompanyConfig/CompanyConfig'))\nconst TouchPlatformBackstage = lazy(() => import('./LayoutManage/LayoutManage'))\n\n\nclass App extends React.Component {\n  // componentDidMount() {\n  //   if (window.localData.companyInfo) {\n  //     this.props.updateCompanyInfo(window.localData.companyInfo)\n  //   }\n  // }\n\n  render() {\n    return (\n      <SnackbarProvider\n        maxSnack={4}\n        autoHideDuration={2000}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n      >\n        <SWRConfig\n          value={{\n            fetcher,\n          }}\n        >\n          <Router>\n            <Header />\n            <Suspense fallback={null}>\n              <Switch>\n                <Route exact path=\"/\" component={PosPlatform} />\n                <Route path=\"/pos-order-list\" component={PosOrderList} />\n                <Route path=\"/signin\" component={Signin} />\n                <Route path=\"/backstage/layout\" component={TouchPlatformBackstage} />\n                <Route path=\"/company-config\" component={CompanyConfig} />\n                <Route path=\"/backstage/comm\" component={CommManage} />\n              </Switch>\n            </Suspense>\n          </Router>\n        </SWRConfig>\n\n      </SnackbarProvider>\n    )\n  }\n}\n\n// export default connect(null, { updateCompanyInfo })(App)\nexport default withTheme(App)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { store } from './store'\nimport App from './components/App'\nimport '@fontsource/roboto/300.css'\nimport '@fontsource/roboto/400.css'\nimport '@fontsource/roboto/500.css'\nimport '@fontsource/roboto/700.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n)","import { v4 as uuidv4 } from 'uuid'\n\n// POS首頁觸控鍵盤一開始是輸入數字(quantityMode)或折扣(discountMode)\nexport const INITIAL_KEYBOARD_MODE = 'quantityMode'\n\n// 折扣是 定價乘以數量後減去折扣數(multi) \n// 或 定價減去折扣數後再乘以數量(single)\nexport const MULTIPLE_MODE = 'multi'\n\n// 訂單已付金額中文對照\nexport const RECEIVED_METHOD_MAPPING = {\n  cash: '現金',\n  credit: '信用卡',\n  remittance: '匯款',\n  campaign: '活動優惠',\n  discount: '整筆折扣',\n  point: '點數',\n  stored: '儲值金',\n}\n\n// export const PAYMENT_METHOD_MAPPING = {\n//   1: {\n//     typeId: '1',\n//     keyName: 'cash',\n//     paymentName: '現金',\n//   },\n//   2: {\n//     typeId: '2',\n//     keyName: 'credit',\n//     paymentName: '信用卡',\n//   },\n//   3: {\n//     typeId: '3',\n//     keyName: 'campaign',\n//     paymentName: '活動優惠',\n//   },\n//   4: {\n//     typeId: '4',\n//     keyName: 'remittance',\n//     paymentName: '匯款',\n//   },\n// }\n\n// 客次於當日幾點清零(0到24的數字 不包含24本身)\nexport const SETTLE_HOUR = 17\n\n// 觸控表格相關初始化資料\nexport const initialColor = '#fcfcfc'\n\nexport const initialGrid = [\n  { backgroundColor: initialColor, stockSeq: 0, },\n  { backgroundColor: initialColor, stockSeq: 1, },\n  { backgroundColor: initialColor, stockSeq: 2, },\n  { backgroundColor: initialColor, stockSeq: 3, },\n  { backgroundColor: initialColor, stockSeq: 4, },\n  { backgroundColor: initialColor, stockSeq: 5, },\n  { backgroundColor: initialColor, stockSeq: 6, },\n  { backgroundColor: initialColor, stockSeq: 7, },\n  { backgroundColor: initialColor, stockSeq: 8, },\n  { backgroundColor: initialColor, stockSeq: 9, },\n  { backgroundColor: initialColor, stockSeq: 10, },\n  { backgroundColor: initialColor, stockSeq: 11, },\n  { backgroundColor: initialColor, stockSeq: 12, },\n  { backgroundColor: initialColor, stockSeq: 13, },\n  { backgroundColor: initialColor, stockSeq: 14, },\n]\n\nexport const getInitialLayouts = () => {\n  return [\n    {\n      categoryName: 'Plat 1',\n      id: uuidv4(),\n      categorySeq: 0,\n      stockList: [...initialGrid]\n    },\n    {\n      categoryName: 'Plat 2',\n      id: uuidv4(),\n      categorySeq: 1,\n      stockList: [...initialGrid]\n    },\n    {\n      categoryName: 'Plat 3',\n      id: uuidv4(),\n      categorySeq: 2,\n      stockList: [...initialGrid]\n    },\n    {\n      categoryName: 'Plat 4',\n      id: uuidv4(),\n      categorySeq: 3,\n      stockList: [...initialGrid]\n    },\n    {\n      categoryName: 'Plat 5',\n      id: uuidv4(),\n      categorySeq: 4,\n      stockList: [...initialGrid]\n    },\n    {\n      categoryName: 'Plat 6',\n      id: uuidv4(),\n      categorySeq: 5,\n      stockList: [...initialGrid]\n    },\n  ]\n}\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport const currentTempOrderIdSlice = createSlice({\n  name: 'currentTempOrderId',\n  initialState: '',\n  reducers: {\n    replaceCurrentTempOrderId: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return ''\n    },\n    'signout': (state, action) => {\n      return ''\n    },\n    'changeSalePoint': (state, action) => {\n      return ''\n    },\n  },\n})\n\nexport const currentExternalOrderIdSlice = createSlice({\n  name: 'currentExternalOrderId',\n  initialState: '',\n  reducers: {\n    replaceCurrentExternalOrderId: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return ''\n    },\n    'signout': (state, action) => {\n      return ''\n    },\n    'changeSalePoint': (state, action) => {\n      return ''\n    },\n  },\n})\n\nexport const currentSalesmanIdSlice = createSlice({\n  name: 'currentSalesmanId',\n  initialState: '',\n  reducers: {\n    replaceCurrentSalesmanId: (state, action) => {\n      return action.payload\n    }\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return ''\n    },\n    'signout': (state, action) => {\n      return ''\n    },\n  },\n})\n\n\nexport const { replaceCurrentTempOrderId } = currentTempOrderIdSlice.actions\nexport const { replaceCurrentExternalOrderId } = currentExternalOrderIdSlice.actions\nexport const { replaceCurrentSalesmanId } = currentSalesmanIdSlice.actions\n\nexport const selectCurrentTempOrderId = state => state.currentTempOrderId\nexport const selectCurrentExternalOrderId = state => state.currentExternalOrderId\nexport const selectCurrentSalesmanId = state => state.currentSalesmanId\n\nexport const currentTempOrderIdReducer = currentTempOrderIdSlice.reducer\nexport const currentExternalOrderIdReducer = currentExternalOrderIdSlice.reducer\nexport const currentSalesmanIdReducer = currentSalesmanIdSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { SETTLE_HOUR } from '../publicVariable'\n\nconst initialState = {}\n\nexport const visitsSlice = createSlice({\n  name: 'visits',\n  initialState,\n  reducers: {\n    replaceVisits: (state, action) => {\n      return action.payload\n    },\n    updateVisits: (state, action) => {\n      return { ...state, ...action.payload }\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      return {}\n    },\n  },\n})\n\nexport const { replaceVisits, updateVisits } = visitsSlice.actions\n\n// 查看LocalStorage是否有儲存客次及客次紀錄日期，並依此改變Redux狀態\nexport const initialVisits = id => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const currentSalePointId = id || salePointId\n  const newVisitsDate = Math.ceil(\n    (new Date().getTime() - (SETTLE_HOUR - 8) * 3600000) / 86400000\n  )\n\n  const localVisits = JSON.parse(\n    localStorage.getItem(`visits/${userId}/${currentSalePointId}`)\n  )\n\n  if (!localVisits || localVisits.visitsDate !== newVisitsDate) {\n    localStorage.setItem(`visits/${userId}/${salePointId}`, JSON.stringify({ visitsNum: 0, visitsDate: newVisitsDate }))\n    dispatch(replaceVisits({ visitsNum: 0, visitsDate: newVisitsDate }))\n  }\n  else {\n    localStorage.setItem(`visits/${userId}/${salePointId}`, JSON.stringify({ visitsNum: localVisits.visitsNum, visitsDate: localVisits.visitsDate }))\n    dispatch(replaceVisits({ visitsNum: localVisits.visitsNum, visitsDate: localVisits.visitsDate }))\n  }\n}\n\n// 檢查是否超過使用者設定的跨日時間，超過則重置\nexport const renewVisits = () => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const newVisitsDate = Math.ceil(\n    (new Date().getTime() - (SETTLE_HOUR - 8) * 3600000) / 86400000\n  )\n\n  const { visitsDate: currentVisitsDate } = getState().visits\n\n  if (newVisitsDate !== currentVisitsDate) {\n    localStorage.setItem(`visits/${userId}/${salePointId}`, JSON.stringify({ visitsNum: 0, visitsDate: newVisitsDate }))\n    dispatch(replaceVisits({ visitsNum: 0, visitsDate: newVisitsDate }))\n  }\n}\n\n// 增加客次，若超過使用者設定的跨日時間則重置\nexport const increaseVisits = () => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const newVisitsDate = Math.ceil(\n    (new Date().getTime() - (SETTLE_HOUR - 8) * 3600000) / 86400000\n  )\n\n  const { visitsNum: currentVisitsNum, visitsDate: currentVisitsDate } = getState().visits\n\n  if (newVisitsDate !== currentVisitsDate) {\n    localStorage.setItem(`visits/${userId}/${salePointId}`, JSON.stringify({ visitsNum: 0, visitsDate: newVisitsDate }))\n    dispatch(replaceVisits({ visitsNum: 0, visitsDate: newVisitsDate }))\n  }\n  else {\n    localStorage.setItem(`visits/${userId}/${salePointId}`, JSON.stringify({ visitsNum: currentVisitsNum + 1, visitsDate: currentVisitsDate }))\n    dispatch(updateVisits({ visitsNum: currentVisitsNum + 1 }))\n  }\n}\n\nexport const selectVisits = state => state.visits\n\nexport default visitsSlice.reducer","import Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\nexport const MySwal = withReactContent(Swal)\n\nexport const Toast = MySwal.mixin({\n  icon: 'warning',\n  toast: true,\n  position: 'top-end',\n  showConfirmButton: false,\n  timer: 3000,\n  willOpen: () => {\n    MySwal.getContainer().style.position = 'absolute';\n  },\n  didOpen: toast => {\n    toast.addEventListener('mouseenter', MySwal.stopTimer)\n    toast.addEventListener('mouseleave', MySwal.resumeTimer)\n  },\n})\n\nexport const fireDialogToast = (title, icon) => {\n  Toast.fire({\n    ...(icon && { icon }),\n    title,\n    target: document.querySelector('.MuiDialog-root')\n  })\n}\n\nexport const fireErrorToast = (error, targetDomName) => {\n  Toast.fire({\n    icon: 'error',\n    title: `錯誤: ${error.info || error?.response?.data?.error || '獲取資料失敗'}`,\n    target: document.querySelector(targetDomName)\n  })\n}\n\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { layoutRequest } from '../apis'\nimport { getInitialLayouts } from '../publicVariable'\n\nconst initialState = {\n  content: getInitialLayouts(),\n  loading: 'initial',\n}\n\nconst mapIndexToCategorySeq = (list) => {\n  return list.map((item, index) => ({ ...item, categorySeq: index }))\n}\n\n// Thunk Action Part\nexport const fetchPosLayouts = createAsyncThunk('posLayouts/fetchPosLayouts', async (id, thunkAPI) => {\n  const salePointId = id || thunkAPI.getState().user.salePointId\n  const { data } = await layoutRequest.get(salePointId, {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n  })\n  return data\n})\n\nexport const postPosLayouts = (posLayoutDrafts, callback, errorCallback) => async (dispatch, getState) => {\n  try {\n    const mappedSeqDraft = mapIndexToCategorySeq(posLayoutDrafts)\n    const data = { list: mappedSeqDraft }\n    const { auth: { authenticated }, user: { salePointId } } = getState()\n    dispatch({ type: 'posLayouts/postPosLayouts/pending' })\n    await layoutRequest.post(salePointId, data, {\n      headers: { 'Authorization': 'Bearer ' + authenticated },\n    })\n    dispatch({\n      type: 'posLayouts/postPosLayouts/fulfilled',\n      payload: mappedSeqDraft,\n    })\n\n    callback()\n\n  } catch (error) {\n    console.log(error.response)\n    dispatch({ type: 'posLayouts/postPosLayouts/rejected' })\n    errorCallback()\n  }\n}\n\n// Slice Part\nexport const posLayoutsSlice = createSlice({\n  name: 'posLayouts',\n  initialState,\n  reducers: {\n    replacePosLayouts: (state, action) => {\n      state.content = action.payload\n    },\n  },\n  extraReducers: {\n    [fetchPosLayouts.pending]: (state, action) => {\n      state.loading = 'pending'\n    },\n    [fetchPosLayouts.fulfilled]: (state, action) => {\n      state.content = (action.payload.length > 0)\n        ? action.payload\n        : getInitialLayouts()\n      state.loading = 'idle'\n    },\n    [fetchPosLayouts.rejected]: (state, action) => {\n      state.loading = 'idle'\n    },\n    'posLayouts/postPosLayouts/pending': (state, action) => {\n      state.loading = 'pending'\n    },\n    'posLayouts/postPosLayouts/fulfilled': (state, action) => {\n      state.content = action.payload\n      state.loading = 'idle'\n    },\n    'posLayouts/postPosLayouts/rejected': (state, action) => {\n      state.loading = 'idle'\n    },\n    'signout': (state, action) => {\n      return initialState\n    },\n  },\n})\n\nexport const { replacePosLayouts } = posLayoutsSlice.actions\n\nexport const selectPosLayouts = state => state.posLayouts.content\n\nexport default posLayoutsSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\n// const timestamp = Date.now()\nconst demoTempOrder = [\n  {\n    id: '91b3c514-daf6-4b33-a71d-ff5fe701b529',\n    timestamp: 1642059528103,\n    totalQuantity: 4,\n    totalAmount: 4450,\n    member: {},\n    content: [\n      {\n        id: 'a3d603ea-ac89-4510-8e98-07da4e2e40b1',\n        stockId: '5027314501233',\n        stockName: 'Fibreplex 鮮兔纖 15ml (條)',\n        // commCategoryName: '[------ 銷售類商品 ------]',\n        quantity: 1,\n        discount: '50',\n        price: 450,\n        salePrice: 400,\n        originalTotal: 450,\n        total: 400\n      },\n      {\n        id: 'ce7181bf-2477-467e-9124-03c6a56dcf8c',\n        stockId: '304346',\n        stockName: 'Virbac維克 Nutri-plus gel 克補軟膏 (條)',\n        // commCategoryName: '[------ 銷售類商品 ------]',\n        quantity: 2,\n        discount: '%5',\n        price: 450,\n        salePrice: 225,\n        originalTotal: 900,\n        total: 450\n      },\n      {\n        id: '95c1170f-af6c-410f-bcba-652ed536819e',\n        stockId: '810020601',\n        stockName: 'SIMGA T型連接管 100條 (盒)',\n        // commCategoryName: '輸液套、輸液管',\n        quantity: 1,\n        discount: '',\n        price: 3600,\n        salePrice: 3600,\n        originalTotal: 3600,\n        total: 3600\n      }\n    ]\n  },\n  {\n    id: 'f2907995-8aec-4f1a-8af4-e35e31c1a8a1',\n    timestamp: 1642055846878,\n    totalQuantity: 8,\n    totalAmount: 1050,\n    member: {\n      id: '0164AC40-665F-05A9-83A1-608429428429',\n      memberCode: 'CU002499',\n      memberName: '陳Ｏ妤',\n      email: '',\n      birthdate: null,\n      phone: '0966oooooo',\n      companyPhone: '',\n      homePhone: '',\n      totalConsumption: 50,\n      accumulatedBonus: 0,\n      salePointId: '',\n      transactionSalePointId: '3ab0ef5c-4e3e-11e6-a94b-42010af00003',\n      pets: [\n        {\n          id: '82EE0E42-BA04-F242-6811-4E20982E20FA',\n          memberId: '0164AC40-665F-05A9-83A1-608429428429',\n          petCode: '',\n          petName: '腸腸',\n          genderId: '316A7127-127A-4EC3-A57B-118F28F0EB7B',\n          gender: {\n            id: ''\n          },\n          birthday: '2017-07-04',\n          petTypeId: '64DC5C6B-AD0A-FCC1-E467-A5C6B5C9C0FC',\n          petVarietyId: 'BDDBD805-EDA9-039A-8CEF-81BAC32B3E55',\n          icCard: '0'\n        }\n      ]\n    },\n    content: [\n      {\n        id: 'c299b56d-e398-476a-8410-71dd4f58f0bc',\n        stockId: '5027314501240',\n        stockName: 'Bio-Lapis 寶礦兔 2g/6包 (盒)',\n        // commCategoryName: '[------ 銷售類商品 ------]',\n        quantity: 1,\n        discount: '',\n        price: 400,\n        salePrice: 400,\n        originalTotal: 400,\n        total: 400\n      },\n      {\n        id: '05cc27c2-c14c-48e7-bd9c-71a4df863ca8',\n        stockId: '5031812507000-1',\n        stockName: 'VetPlus 適肝能 SAMYLIN 小型犬貓粉劑 1 (包)',\n        // commCategoryName: '[------ 銷售類商品 ------]',\n        quantity: 5,\n        discount: '',\n        price: 50,\n        salePrice: 50,\n        originalTotal: 250,\n        total: 250\n      },\n      {\n        id: '2e14e56b-1605-47ca-aaec-8542610d9afd',\n        stockId: '806010003',\n        stockName: 'E collar (包邊)頭套 (5)號',\n        // commCategoryName: '傷口照護',\n        quantity: 2,\n        discount: '100',\n        price: 250,\n        salePrice: 200,\n        originalTotal: 500,\n        total: 400\n      }\n    ]\n  },\n  // {\n  //   ID: 'temp23uf',\n  //   name: 'Temp 1',\n  //   timestamp: timestamp,\n  //   totalQuantity: 4,\n  //   totalAmount: 1680,\n  //   member: {\n  //     ID: 'CU005891',\n  //     memberName: '王亦明',\n  //     mobile: '0912345611',\n  //     tel: '02-25123456'\n  //   },\n  //   content: [\n  //     {\n  //       id: '41644b26-5e83-4983-93c4-f6fe0af7a7e2',\n  //       stockName: 'Card 8',\n  //       price: 550,\n  //       backgroundColor: '#fcfcfc',\n  //       stockId: '4719850620042',\n  //       quantity: 2,\n  //       discount: '100',\n  //       total: 1000\n  //     },\n  //     {\n  //       id: '9eaa7514-935c-45df-bc64-93fbe7c95037',\n  //       stockName: 'Card 7',\n  //       price: 1200,\n  //       backgroundColor: '#fcfcfc',\n  //       stockId: '471412747203401',\n  //       quantity: 2,\n  //       discount: '100',\n  //       total: 2300\n  //     },\n  //     {\n  //       id: 'c1999857-67db-435a-99f2-0095ea39e01b',\n  //       stockName: 'Card 6',\n  //       price: 300,\n  //       backgroundColor: '#fcfcfc',\n  //       stockId: '4714127472034',\n  //       quantity: 1,\n  //       discount: '10%',\n  //       total: 270\n  //     },\n  //     {\n  //       id: 'e5841995-e10c-4e68-806a-111f6c90ea63',\n  //       stockName: 'Card 5',\n  //       price: 2000,\n  //       backgroundColor: '#fcfcfc',\n  //       stockId: '3182550815505',\n  //       quantity: 1,\n  //       discount: '',\n  //       total: 2000\n  //     },\n  //     {\n  //       id: 'eb86f2c0-6616-4c39-922f-c19f6bcf2c87',\n  //       stockName: 'Card 4',\n  //       price: 1250,\n  //       backgroundColor: '#fcfcfc',\n  //       stockId: '3182550711425',\n  //       quantity: 3,\n  //       discount: '',\n  //       total: 3750\n  //     }\n  //   ],\n  // },\n]\n\nexport const tempOrdersSlice = createSlice({\n  name: 'tempOrders',\n  initialState: [],\n  reducers: {\n    replaceTempOrders: (state, action) => {\n      return action.payload\n    },\n    addTempOrder: (state, action) => {\n      return [action.payload, ...state]\n    },\n    editTempOrder: (state, action) => {\n      return state.map(el => el.id === action.payload.id ? { ...el, content: action.payload.order } : el)\n    },\n    deleteTempOrder: (state, action) => {\n      return state.filter(el => el.id !== action.payload)\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { replaceTempOrders, addTempOrder, editTempOrder, deleteTempOrder } = tempOrdersSlice.actions\n\nexport const getTempOrderWithLocal = () => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const newTempOrders = JSON.parse(localStorage.getItem(`tempOrders/${userId}/${salePointId}`)) || demoTempOrder\n  localStorage.setItem(`tempOrders/${userId}/${salePointId}`, JSON.stringify(newTempOrders))\n\n  dispatch(replaceTempOrders(newTempOrders))\n}\n\nexport const addTempOrderWithLocal = order => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const tempOrders = JSON.parse(\n    localStorage.getItem(`tempOrders/${userId}/${salePointId}`)\n  ) || []\n  const newTempOrders = tempOrders ? [order, ...tempOrders] : [order]\n  localStorage.setItem(`tempOrders/${userId}/${salePointId}`, JSON.stringify(newTempOrders))\n\n  dispatch(addTempOrder(order))\n}\n\n// export const editTempOrderWithLocal = (id, order) => dispatch => {\n//   const tempOrders = JSON.parse(localStorage.getItem('tempOrders'))\n//   if (tempOrders) {\n//     const newTempOrders = tempOrders.map(el => el.id === id ? { ...el, content: order } : el)\n//     localStorage.setItem('tempOrders', JSON.stringify(newTempOrders))\n//   }\n\n//   dispatch(editTempOrder({ id, order }))\n// }\n\nexport const deleteTempOrderWithLocal = id => (dispatch, getState) => {\n  const { userId, salePointId } = getState().user\n  const tempOrders = JSON.parse(\n    localStorage.getItem(`tempOrders/${userId}/${salePointId}`)\n  )\n\n  if (tempOrders) {\n    const newTempOrders = tempOrders.filter(el => el.id !== id)\n    localStorage.setItem(`tempOrders/${userId}/${salePointId}`, JSON.stringify(newTempOrders))\n  }\n\n  dispatch(deleteTempOrder(id))\n}\n\n\n\nexport const selectTempOrders = state => state.tempOrders\n\nexport default tempOrdersSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { userRequest } from '../apis'\nimport { replaceUser } from './userSlice'\nimport { replaceCurrentSalesmanId } from './currentIdsSlice'\n\nconst initialState = {\n  authenticated: '',\n  level: '',\n  errorMessage: '',\n}\n\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    authUser: (state, action) => {\n      return { ...state, authenticated: action.payload }\n    },\n    authError: (state, action) => {\n      return { ...state, errorMessage: action.payload }\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return initialState\n    },\n  }\n})\n\n// 登入 action\nexport const signin = (formProps) => async dispatch => {\n  try {\n    const encodedContent = window.btoa(formProps.userName + ':' + formProps.password)\n    const { data: TokenData } = await userRequest.post('/login', null, {\n      headers: {\n        'Authorization': 'Basic ' + encodedContent,\n        'x-cust': formProps.xCust,\n      }\n    })\n    dispatch(authUser(TokenData.token))\n    localStorage.setItem('token', TokenData.token)\n\n    const { data: userData } = await userRequest.get('/me', {\n      headers: { 'Authorization': 'Bearer ' + TokenData.token },\n    })\n    const { data: salePointsData } = await userRequest.get(`/${userData.userId}/salePoints`, {\n      headers: { 'Authorization': 'Bearer ' + TokenData.token },\n    })\n    const newUserInfo = { ...userData, salePoints: salePointsData }\n    dispatch(replaceUser(newUserInfo))\n    dispatch(replaceCurrentSalesmanId(newUserInfo.userId))\n    console.log(newUserInfo.userId)\n    localStorage.setItem('userInfo', JSON.stringify(newUserInfo))\n\n    return true\n  } catch (e) {\n    dispatch(authError(`驗證失敗: ${e.response?.data?.error}` || '登入失敗'))\n    return false\n  }\n}\n\n// 登出 action\nexport const signout = () => {\n  localStorage.removeItem('token')\n  localStorage.removeItem('userInfo')\n\n  return {\n    type: 'signout',\n  }\n}\n\nexport const { authUser, authError } = authSlice.actions\n\nexport const selectAuthUser = state => state.auth.authenticated\nexport const selectAuthError = state => state.auth.errorMessage\n\nexport default authSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\nimport { fetchPosLayouts } from './posLayoutsSlice'\n\nconst initialState = {}\n\nexport const changeSalePoint = id => async (dispatch, getState) => {\n  const salePoints = getState().user.salePoints\n  const selectedSalePoint = salePoints.find(el => el.id === id)\n  dispatch({\n    type: 'changeSalePoint',\n    payload: { id, selectedSalePoint }\n  })\n  dispatch(fetchPosLayouts(id))\n}\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    replaceUser: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      const newUserInfo = {\n        ...state,\n        salePointId: action.payload.id,\n        salePoint: action.payload.selectedSalePoint,\n      }\n      localStorage.setItem('userInfo', JSON.stringify(newUserInfo))\n      return newUserInfo\n    },\n  },\n})\n\nexport const { replaceUser } = userSlice.actions\n\nexport const selectUser = state => state.user\n\nexport default userSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { externalOrderRequest } from '../apis'\n\nexport const fetchExternalOrders = createAsyncThunk('externalOrders/fetchExternalOrders', async (params, thunkAPI) => {\n  const { data } = await externalOrderRequest.get('', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: params,\n  })\n  return data.list\n})\n\nexport const fetchOrderDetail = createAsyncThunk('externalOrders/fetchOrderDetail', async (params, thunkAPI) => {\n  const { data } = await externalOrderRequest.get(`/${params.id}`, {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated }\n  })\n  return data\n})\n\nexport const fetchActiveExternalOrder = createAsyncThunk('activeExternalOrder/fetchActiveExternalOrder', async (params, thunkAPI) => {\n  const { data } = await externalOrderRequest.get(`/${params.id}`, {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated }\n  })\n  return data\n})\n\n\n// Slice part\nexport const externalOrdersSlice = createSlice({\n  name: 'externalOrders',\n  initialState: [],\n  reducers: {\n    replaceExternalOrders: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    [fetchExternalOrders.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchExternalOrders.rejected]: (state, action) => {\n      return []\n    },\n    [fetchOrderDetail.fulfilled]: (state, action) => {\n      return state.map(item => item.id === action.payload.id\n        ? action.payload\n        : item\n      )\n    },\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const activeExternalOrderSlice = createSlice({\n  name: 'activeExternalOrder',\n  initialState: {},\n  reducers: {\n    replaceActiveExternalOrder: (state, action) => {\n      return action.payload\n    },\n  },\n  extraReducers: {\n    [fetchActiveExternalOrder.fulfilled]: (state, action) => {\n      return action.payload\n    },\n    [fetchActiveExternalOrder.rejected]: (state, action) => {\n      return {}\n    },\n    'addSelectedExternalOrder': (state, action) => {\n      return action.payload\n    },\n    'signout': (state, action) => {\n      return {}\n    },\n    'changeSalePoint': (state, action) => {\n      return {}\n    },\n  },\n})\n\nexport const selectedExternalOrdersSlice = createSlice({\n  name: 'selectedExternalOrders',\n  initialState: [],\n  reducers: {\n    removeSelectedExternalOrder: (state, action) => {\n      return state.filter(item => item.id !== action.payload)\n    },\n    replaceSelectedExternalOrders: (state, action) => {\n      return action.payload\n    },\n    clearSelectedExternalOrders: (state, action) => {\n      return []\n    },\n  },\n  extraReducers: {\n    'addSelectedExternalOrder': (state, action) => {\n      return [action.payload, ...state]\n    },\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\n// redux thunk\nexport const addSelectedExternalOrder = params => async (dispatch, getState) => {\n  try {\n    const { data } = await externalOrderRequest.get(`/${params.id}`, {\n      headers: { 'Authorization': 'Bearer ' + getState().auth.authenticated }\n    })\n\n    dispatch({ type: 'addSelectedExternalOrder', payload: data })\n\n  } catch (error) {\n    console.log(error.response)\n  }\n}\n\nexport const selectAllExternalOrders = orders => async (dispatch, getState) => {\n  try {\n    const selectedOrders = await Promise.all(orders.map(async (order) => {\n      const { data } = await externalOrderRequest.get(`/${order.id}`, {\n        headers: { 'Authorization': 'Bearer ' + getState().auth.authenticated }\n      })\n      return data\n    }))\n\n    dispatch(replaceSelectedExternalOrders(selectedOrders))\n  } catch (error) {\n    console.log(error.response)\n  }\n}\n\n// action export\nexport const { replaceExternalOrders } = externalOrdersSlice.actions\nexport const { replaceActiveExternalOrder } = activeExternalOrderSlice.actions\nexport const { removeSelectedExternalOrder, replaceSelectedExternalOrders, clearSelectedExternalOrders } = selectedExternalOrdersSlice.actions\n\n// selector export\nexport const selectExternalOrders = state => state.externalOrders\nexport const selectActiveExternalOrder = state => state.activeExternalOrder\nexport const selectSelectedExternalOrders = state => state.selectedExternalOrders\n\n// reducer export\nexport const externalOrdersReducer = externalOrdersSlice.reducer\nexport const activeExternalOrderReducer = activeExternalOrderSlice.reducer\nexport const selectedExternalOrdersReducer = selectedExternalOrdersSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = []\n\n// Slice Part\nexport const posStripsSlice = createSlice({\n  name: 'posStrips',\n  initialState,\n  reducers: {\n    replacePosStrips: (state, action) => {\n      return action.payload\n    },\n    clearPosStrips: (state, action) => {\n      return []\n    },\n    addPosStrip: (state, action) => {\n      return state.find(el => el.id === action.payload.id) ? state : [...state, action.payload]\n    },\n    deletePosStrip: (state, action) => {\n      return state.filter(el => el.id !== action.payload)\n    },\n  },\n  extraReducers: {\n    'checkout': (state, action) => {\n      return []\n    },\n    'signout': (state, action) => {\n      return []\n    },\n    'changeSalePoint': (state, action) => {\n      return []\n    },\n  },\n})\n\nexport const { replacePosStrips, clearPosStrips, addPosStrip, deletePosStrip } = posStripsSlice.actions\n\nexport const selectPosStripsSlice = state => state.posStripsSlice\n\nexport default posStripsSlice.reducer","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\nimport { commRequest } from '../apis'\n\nconst initialState = {\n  content: {},\n  loading: 'idle',\n  error: ''\n}\n\nconst getPriceMappingFromList = (list) => {\n  const newPriceMapping = {}\n  list.forEach(item => {\n    newPriceMapping[item.stockId] = item.price ? item.price.price : 0\n  })\n  return newPriceMapping\n}\n\nexport const fetchPriceMapping = createAsyncThunk('priceMapping/fetchPriceMapping', async (stockList, thunkAPI) => {\n  const stockIdList = stockList.map(stockItem => stockItem.stockId)\n  const stockIdsString = stockIdList.join(',')\n  const { data } = await commRequest.get('', {\n    headers: { 'Authorization': 'Bearer ' + thunkAPI.getState().auth.authenticated },\n    params: {\n      stockIds: stockIdsString,\n      limit: 0,\n    },\n  })\n  return getPriceMappingFromList(data.list)\n})\n\nexport const priceMappingSlice = createSlice({\n  name: 'priceMapping',\n  initialState,\n  reducers: {\n    updatePriceMapping: (state, action) => {\n      return { ...state, content: { ...state.content, ...action.payload } }\n    },\n    replacePriceMapping: (state, action) => {\n      return { ...state, content: { ...action.payload } }\n    },\n  },\n  extraReducers: {\n    [fetchPriceMapping.fulfilled]: (state, action) => {\n      state.content = action.payload\n      state.loading = 'idle'\n    },\n    [fetchPriceMapping.pending]: (state, action) => {\n      state.loading = 'pending'\n    },\n    [fetchPriceMapping.rejected]: (state, action) => {\n      state.loading = 'idle'\n      state.error = '價格載入失敗'\n    },\n    'signout': (state, action) => {\n      return initialState\n    },\n    'changeSalePoint': (state, action) => {\n      return initialState\n    },\n  },\n})\n\nexport const { updatePriceMapping, replacePriceMapping } = priceMappingSlice.actions\n\nexport const selectPriceMapping = state => state.priceMapping.content\n\nexport default priceMappingSlice.reducer"],"sourceRoot":""}