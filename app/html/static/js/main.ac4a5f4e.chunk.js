(this["webpackJsonpbonvies-pos"]=this["webpackJsonpbonvies-pos"]||[]).push([[3],{100:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(5),a=Object(r.c)({name:"currentMember",initialState:{},reducers:{replaceCurrentMember:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return{}},signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),c=a.actions.replaceCurrentMember;t.a=a.reducer},104:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b}));var r,a=n(3),c=n(13),o=n(7),i=n.n(o),u=n(4),s=n(10),d=n(5),l=n(11),f=Object(d.b)("comms/fetchComms",function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.b.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:Object(u.a)({sort:"sale_start_date desc"},t)});case 2:return r=e.sent,e.abrupt("return",r.data.list);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(d.c)({name:"comms",initialState:[],reducers:{replaceComms:function(e,t){return t.payload},createComm:function(e,t){return[].concat(Object(c.a)(e),[t.payload])},editComm:function(e,t){return e.map((function(e){return e.stockId===t.payload.stockId?t.payload:e}))},deleteComm:function(e,t){return e.filter((function(e){return e.stockId!==t.payload}))}},extraReducers:(r={},Object(a.a)(r,f.fulfilled,(function(e,t){return t.payload})),Object(a.a)(r,f.rejected,(function(e,t){return[]})),Object(a.a)(r,"signout",(function(e,t){return[]})),Object(a.a)(r,"changeSalePoint",(function(e,t){return[]})),r)}),m=p.actions,b=m.replaceComms;m.createComm,m.editComm,m.deleteComm;t.a=p.reducer},105:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r,a=n(3),c=n(7),o=n.n(c),i=n(4),u=n(10),s=n(5),d=n(11),l=Object(s.b)("members/fetchMembers",function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.e.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:Object(i.a)({sort:"create_time desc"},t)});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.list);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(s.c)({name:"members",initialState:[],reducers:{replaceComms:function(e,t){return t.payload}},extraReducers:(r={},Object(a.a)(r,l.fulfilled,(function(e,t){return t.payload})),Object(a.a)(r,l.rejected,(function(e,t){return[]})),Object(a.a)(r,"signout",(function(e,t){return[]})),Object(a.a)(r,"changeSalePoint",(function(e,t){return[]})),r)});f.actions.replaceComms;t.a=f.reducer},106:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b}));var r,a=n(3),c=n(7),o=n.n(c),i=n(4),u=n(10),s=n(5),d=n(11),l=n(54),f=Object(s.b)("sales/fetchSales",function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.g.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:Object(i.a)({sort:"date desc"},t)});case 2:if(403!==(r=e.sent).status){e.next=6;break}return Object(l.c)("\u8b66\u544a: \u6b0a\u9650\u4e0d\u8db3","warning"),e.abrupt("return",{});case 6:return e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(s.c)({name:"sales",initialState:{},reducers:{replaceSales:function(e,t){return t.payload},deleteSale:function(e,t){e.list=e.list.filter((function(e){return e.id!==t.payload}))}},extraReducers:(r={},Object(a.a)(r,f.fulfilled,(function(e,t){return t.payload})),Object(a.a)(r,f.rejected,(function(e,t){return{}})),Object(a.a)(r,"signout",(function(e,t){return{}})),Object(a.a)(r,"changeSalePoint",(function(e,t){return{}})),r)}),m=p.actions,b=(m.replaceSales,m.deleteSale);t.a=p.reducer},107:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(4),a=n(13),c=n(5),o=n(36),i=Object(c.c)({name:"posLayoutDrafts",initialState:[],reducers:{editPosLayoutDrafts:function(e,t){return t.payload},addPosLayoutDraft:function(e,t){return[].concat(Object(a.a)(e),[Object(r.a)(Object(r.a)({},t.payload),{},{stockList:o.f})])},editPosLayoutDraft:function(e,t){return e.map((function(e){return e.id===t.payload.id?t.payload.layout:e}))},deletePosLayoutDraft:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},editPosLayoutDraftItem:function(e,t){return e.map((function(e){if(e.id===t.payload.id){var n=Object(a.a)(e.stockList);return n[t.payload.index]=t.payload.item,Object(r.a)(Object(r.a)({},e),{},{stockList:n})}return e}))},clearPosLayoutDraftItem:function(e,t){return e.map((function(e){if(e.id===t.payload.id){var n=Object(a.a)(e.stockList);return n[t.payload.index]={stockSeq:t.payload.index,backgroundColor:o.e},Object(r.a)(Object(r.a)({},e),{},{stockList:n})}return e}))}},extraReducers:{signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),u=i.actions,s=u.editPosLayoutDrafts,d=u.addPosLayoutDraft,l=u.editPosLayoutDraft,f=u.deletePosLayoutDraft,p=u.editPosLayoutDraftItem,m=u.clearPosLayoutDraftItem;t.c=i.reducer},11:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return f}));var r=n(30),a=n.n(r),c=(a.a.create({baseURL:"https://apidrvet.drvet.info/api"}),a.a.create({baseURL:"https://apidrvet.drvet.info/api/user"})),o=a.a.create({baseURL:"https://apidrvet.drvet.info/api/member"}),i=a.a.create({baseURL:"https://apidrvet.drvet.info/api/stock-master"}),u=a.a.create({baseURL:"https://apidrvet.drvet.info/api/stock-category"}),s=a.a.create({baseURL:"https://apidrvet.drvet.info/api/temp-sales"}),d=a.a.create({baseURL:"https://apidrvet.drvet.info/api/pos"}),l=a.a.create({baseURL:"https://apidrvet.drvet.info/api/pos/stock/grid"}),f=a.a.create({baseURL:"https://apidrvet.drvet.info/api/sales"})},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return O}));var r=n(7),a=n.n(r),c=n(10),o=n(4),i=n(5),u=n(50),s=n(11),d=n(66),l=n(54),f={quantity:0,total:0,primitiveTotal:0},p=function(e,t,n){var r=t?Object(o.a)(Object(o.a)({},e),{},{1:e[1]-t}):e;return Object.keys(r).map((function(e){return Object(o.a)({salePointPaymentId:e,value:r[e]},"2"===e&&(null===n||void 0===n?void 0:n.success)&&(null===n||void 0===n?void 0:n.response)&&{creditCard:{transType:n.response.transType,hostId:n.response.hostId,invoiceNo:n.response.receiptNo,cardNo:n.response.cardNo,transDate:n.response.transDate,transTime:n.response.transTime,approvalCode:n.response.approvalNo}})}))},m=Object(i.c)({name:"posStripsSum",initialState:f,reducers:{replacePosStripsSum:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return f},signout:function(e,t){return f},changeSalePoint:function(e,t){return f}}}),b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,f,m,b,O,h,j,g,v,y,S,x,k,I,C,P,A;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=r(),i=c.auth.authenticated,f=c.user,m=c.posStrips,b=c.posStripsSum,O=c.receivedAmounts,h=c.currentSalesmanId,j=c.currentTempOrderId,g=c.currentExternalOrderId,v=c.currentMember,y=c.companyInfo,S=c.creditCardResponse,x={pos:{salePointId:f.salePointId,cashRegisterId:y.cashRegisterId,locCode:f.salePoint.locationCode},sales:Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({userId:f.userId,member:v.id,total:b.primitiveTotal,actualTotal:b.total,quantity:b.quantity,discountRate:0===b.primitiveTotal?100:Math.round(100*b.total/b.primitiveTotal),discountTotal:b.primitiveTotal-b.total},h&&{salesmanCode:h}),g&&{tempSalesId:g}),e.taxId&&{uniformNumber:e.taxId}),e.invoiceCarrier&&{carrierNum:e.invoiceCarrier}),salesDetails:(a=m,a.map((function(e,t){return{itemNo:t+1,stockId:e.stockId,quantity:e.quantity,price:e.price,salePrice:e.salePrice,subTotal:e.total,discountRate:0===e.price?100:Math.round(100*e.total/e.originalTotal)}}))),salesPayments:p(O,e.giveChangeAmount,S)},k={Authorization:"Bearer "+i},t.next=6,s.g.post("",x,{headers:k});case 6:return I=t.sent,C=I.data.salesId,t.next=10,s.g.get("/".concat(C),{headers:k});case 10:return P=t.sent,A=P.data,j&&n(Object(d.c)(j)),n({type:"checkout"}),n(Object(u.b)()),l.a.fire({icon:"success",title:"\u5b8c\u6210\u7d50\u5e33",width:"20rem",timer:1500,showConfirmButton:!1}),t.abrupt("return",A);case 19:return t.prev=19,t.t0=t.catch(0),Object(l.c)(t.t0,"error"),t.abrupt("return",!1);case 23:case"end":return t.stop()}var a}),t,null,[[0,19]])})));return function(e,n){return t.apply(this,arguments)}}()},O=m.actions.replacePosStripsSum;t.b=m.reducer},112:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(5),a=Object(r.c)({name:"creditCardResponse",initialState:{},reducers:{replaceCreditCardResponse:function(e,t){return t.payload}}}),c=a.actions.replaceCreditCardResponse;t.a=a.reducer},127:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r,a=n(3),c=n(7),o=n.n(c),i=n(10),u=n(5),s=n(11),d=Object(u.b)("paymentMethods/fetchPaymentMethods",function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.f.get("/payment",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),l=Object(u.c)({name:"paymentMethods",initialState:{loading:"initial",content:{}},reducers:{replacePaymentMethods:function(e,t){e.content=t.payload}},extraReducers:(r={},Object(a.a)(r,d.pending,(function(e,t){e.loading="pending"})),Object(a.a)(r,d.fulfilled,(function(e,t){var n={};t.payload.forEach((function(e){n[e.id]||(n[e.id]=e)})),e.loading="idle",e.content=n})),Object(a.a)(r,d.rejected,(function(e,t){e.loading="pending"})),r)});l.actions.replacePaymentMethods;t.a=l.reducer},128:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r,a=n(3),c=n(13),o=n(7),i=n.n(o),u=n(4),s=n(10),d=n(5),l=n(11),f=Object(d.b)("commClasses/fetchCommClasses",function(){var e=Object(s.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:Object(u.a)({limit:"zero"},t)});case 3:return r=e.sent,a=r.data,e.abrupt("return",a.list);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(d.c)({name:"commClasses",initialState:[],reducers:{createCommClass:function(e,t){return[].concat(Object(c.a)(e),[t.payload])},editCommClass:function(e,t){return e.map((function(e){return e.ID===t.payload.ID?t.payload:e}))},deleteCommClass:function(e,t){return e.filter((function(e){return e.ID!==t.payload}))}},extraReducers:(r={},Object(a.a)(r,f.fulfilled,(function(e,t){return t.payload})),Object(a.a)(r,f.rejected,(function(e,t){return[]})),Object(a.a)(r,"signout",(function(e,t){return[]})),r)}),m=p.actions;m.createCommClass,m.editCommClass,m.deleteCommClass;t.a=p.reducer},136:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n(4),a=n(5),c=Object(a.c)({name:"receivedAmounts",initialState:{},reducers:{updateReceivedAmounts:function(e,t){return Object(r.a)(Object(r.a)({},e),t.payload)},replaceReceivedAmounts:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return{}},signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),o=c.actions,i=o.updateReceivedAmounts,u=o.replaceReceivedAmounts;t.a=c.reducer},137:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(5),a={1:"#22B8BB",2:"#DCDE3F",3:"#FFFFFF",4:"#FFAA67",5:"#FFDA64",6:"#FFE5E5"},c=Object(r.c)({name:"palette",initialState:a,reducers:{editPreviousPalette:function(e,t){return{1:t.payload,2:e[1],3:e[2],4:e[3],5:e[4],6:e[5]}}},extraReducers:{signout:function(e,t){return a},changeSalePoint:function(e,t){return a}}}),o=c.actions.editPreviousPalette;t.a=c.reducer},194:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(32),u=n.n(i),s=n(60),d=n(5),l=n(99),f=n(127),p=n(71),m=n(74),b=n(104),O=n(128),h=n(97),j=n(111),g=n(100),v=n(105),y=n(4),S=Object(d.c)({name:"invoiceInfo",initialState:{taxIDNumber:"",carrierNumber:""},reducers:{updateInvoiceInfo:function(e,t){return Object(y.a)(Object(y.a)({},e),t.payload)}}}),x=(S.actions.updateInvoiceInfo,S.reducer),k=n(136),I=n(112),C=n(76),P=n(106),A=n(3),L=n(7),D=n.n(L),R=n(10),w=n(11),N=Object(d.b)("salePayments/fetchSalePayments",function(){var e=Object(R.a)(D.a.mark((function e(t,n){var r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.g.get("/payment/summary",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:t});case 2:return r=e.sent,a=r.data,console.log("fetchSalePayments",a),e.abrupt("return",a.list);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(d.c)({name:"salePayments",initialState:[],reducers:{replaceSalePayments:function(e,t){return t.payload}},extraReducers:(r={},Object(A.a)(r,N.fulfilled,(function(e,t){return t.payload})),Object(A.a)(r,N.rejected,(function(e,t){return[]})),r)}),M=(B.actions.replaceSalePayments,B.reducer),E=n(66),T=n(137),z={companyId:"",companyName:"",cashRegisterId:"774a3e8f-b060-11ea-9e33-42010a8c0fd4",cashRegisterName:"Test-1"},q=Object(d.c)({name:"companyInfo",initialState:z,reducers:{updateCompanyInfo:function(e,t){return t.payload}},extraReducers:{signout:function(e,t){return z}}}),X=(q.actions.updateCompanyInfo,q.reducer),F=n(62),U=n(107),H=n(50),J=n(49),G=Object(d.a)({reducer:{priceMapping:l.a,paymentMethods:f.a,auth:p.a,user:m.a,comms:b.a,commClasses:O.a,posStrips:h.c,posStripsSum:j.b,receivedAmounts:k.a,members:v.a,invoiceInfo:x,creditCardResponse:I.a,tempOrders:E.b,externalOrders:C.d,sales:P.a,salePayments:M,currentMember:g.a,currentSalesmanId:J.b,currentTempOrderId:J.c,currentExternalOrderId:J.a,selectedExternalOrders:C.k,activeExternalOrder:C.a,posLayouts:F.a,posLayoutDrafts:U.c,palette:T.a,visits:H.a,companyInfo:X},preloadedState:{auth:{authenticated:localStorage.getItem("token")},user:JSON.parse(localStorage.getItem("userInfo"))||{},currentSalesmanId:(null===(a=JSON.parse(localStorage.getItem("userInfo")))||void 0===a?void 0:a.userId)||""}}),W=n(108),Q=n(109),Y=n(117),V=n(116),Z=n(42),K=n(15),_=n(148),$=n(113),ee=n(30),te=n.n(ee),ne="https://apidrvet.drvet.info/api",re=function(){var e=Object(R.a)(D.a.mark((function e(){var t,n,r,a,c,o,i,u,s=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,n=new Array(t),r=0;r<t;r++)n[r]=s[r];return a=n[0],c=n[1],o=n[2],e.next=4,te.a.get(ne+a,{headers:{Authorization:c&&"Bearer ".concat(c)},params:Object(y.a)({},o)});case 4:if("OK"===(i=e.sent).statusText){e.next=10;break}throw(u=new Error("An error occurred while fetching the data.")).info=i.statusText,u.status=i.status,u;case 10:return e.abrupt("return",i.data);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=n(19),ce=n(147),oe=n(231),ie=n(227),ue=n(228),se=n(226),de=o.a.createContext({toggleColorMode:function(){}}),le=n(1),fe=function(e){return function(t){var n=Object(c.useState)(Object(ie.a)("(prefers-color-scheme: dark)")?"dark":"light"),r=Object(ae.a)(n,2),a=r[0],o=r[1],i=Object(c.useMemo)((function(){return{toggleColorMode:function(){o((function(e){return"light"===e?"dark":"light"}))}}}),[]),u=Object(c.useMemo)((function(){return Object(ce.a)(function(e){return{palette:{mode:e,primary:Object(y.a)({main:"#f2af44"},"dark"===e&&{main:se.a[300]}),secondary:{main:"#3e414f",matte:"#505877"},background:{default:"#ffffff",light:"#f5f5f5",paper:"#fafafa",darkPaper:"#efefef"},active:{main:"#d5e7ee",light:"#ddf2f9"}},typography:{fontSize:13}}}(a))}),[a]);return Object(le.jsx)(de.Provider,{value:i,children:Object(le.jsxs)(oe.a,{theme:u,children:[Object(le.jsx)(ue.a,{}),Object(le.jsx)(e,Object(y.a)({},t))]})})}},pe=n(61),me=n(233),be=n(234),Oe=n(145),he=n.n(Oe),je=n(146),ge=n.n(je),ve=Object(s.b)((function(e){return{user:e.user,auth:e.auth.authenticated}}),{signout:p.c,initialVisits:H.c})((function(e){var t=Object(pe.a)();return Object(le.jsxs)(me.a,{component:"header",sx:{zIndex:10,position:"relative",display:"flex",alignItems:"center",backgroundColor:"background.default",height:"2.5rem",boxShadow:"inset 0px 0px 12px -5px #dddddd","& > div:first-of-type":{flexGrow:1,display:"flex",alignItems:"center"},"& > div:last-of-type":{paddingRight:"1rem"}},children:[Object(le.jsxs)("div",{children:[Object(le.jsx)(Z.b,{to:"/",children:Object(le.jsx)(me.a,{component:"img",src:"data:image/png;base64,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",alt:"header-icon",sx:{padding:"0 0.5em",width:"6rem",height:"1.6rem"}})}),e.auth?Object(le.jsxs)(me.a,{component:"div",sx:{flex:"1",display:"inline-flex",alignSelf:"stretch","& a":{textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",cursor:"pointer",color:"#333333",margin:"0 0.25em",padding:"1em 0.5em 0",userSelect:"none",transition:"all 0.2s linear"},"& a:hover":{color:t.palette.primary.main},"& a.active":{color:t.palette.primary.main,borderBottom:"0.35em solid ".concat(t.palette.primary.main)}},children:[Object(le.jsx)(Z.b,{to:"/",activeClassName:"active",exact:!0,children:"POS\u9996\u9801"}),Object(le.jsx)(Z.b,{to:"/pos-order-list",activeClassName:"active",children:"\u92b7\u552e\u660e\u7d30"}),Object(le.jsx)(Z.b,{to:"/backstage/comm",activeClassName:"active",children:"\u5546\u54c1\u76ee\u9304"}),Object(le.jsx)(Z.b,{to:"/backstage/layout",activeClassName:"active",children:"\u7db2\u683c\u7ba1\u7406"})]}):null]}),e.auth?Object(le.jsxs)(me.a,{component:"div",sx:{"& select":{color:"#666666",border:"1px solid #dddddd",borderRadius:"0.25em",mr:"0.5em"},"& span":{color:"secondary.main"},"& .MuiSvgIcon-root":{color:"secondary.main"}},children:[Object(le.jsx)(Z.b,{to:"/company-config",activeClassName:"active",children:Object(le.jsx)(be.a,{size:"small",children:Object(le.jsx)(he.a,{fontSize:"small"})})}),Object(le.jsx)(be.a,{size:"small",onClick:function(){e.signout()},children:Object(le.jsx)(ge.a,{fontSize:"small",sx:{transition:"all 0.2s ease-out","&:hover":{color:"error.light"}}})})]}):null]})})),ye=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,342))})),Se=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(9)]).then(n.bind(null,344))})),xe=Object(c.lazy)((function(){return Promise.all([n.e(2),n.e(10),n.e(14)]).then(n.bind(null,337))})),ke=Object(c.lazy)((function(){return Promise.all([n.e(12),n.e(13)]).then(n.bind(null,349))})),Ie=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(15)]).then(n.bind(null,338))})),Ce=Object(c.lazy)((function(){return n.e(11).then(n.bind(null,348))})),Pe=fe(function(e){Object(Y.a)(n,e);var t=Object(V.a)(n);function n(){return Object(W.a)(this,n),t.apply(this,arguments)}return Object(Q.a)(n,[{key:"render",value:function(){return Object(le.jsx)(_.a,{maxSnack:4,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(le.jsx)($.a,{value:{fetcher:re},children:Object(le.jsxs)(Z.a,{children:[Object(le.jsx)(ve,{}),Object(le.jsx)(c.Suspense,{fallback:null,children:Object(le.jsxs)(K.c,{children:[Object(le.jsx)(K.a,{exact:!0,path:"/",component:ye}),Object(le.jsx)(K.a,{path:"/pos-order-list",component:Se}),Object(le.jsx)(K.a,{path:"/signin",component:xe}),Object(le.jsx)(K.a,{path:"/backstage/layout",component:Ce}),Object(le.jsx)(K.a,{path:"/company-config",component:Ie}),Object(le.jsx)(K.a,{path:"/backstage/comm",component:ke})]})})]})})})}}]),n}(o.a.Component));n(190),n(191),n(192),n(193);u.a.render(Object(le.jsx)(s.a,{store:G,children:Object(le.jsx)(Pe,{})}),document.querySelector("#root"))},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(53),a="quantityMode",c="multi",o=17,i="#fcfcfc",u=[{backgroundColor:i,stockSeq:0},{backgroundColor:i,stockSeq:1},{backgroundColor:i,stockSeq:2},{backgroundColor:i,stockSeq:3},{backgroundColor:i,stockSeq:4},{backgroundColor:i,stockSeq:5},{backgroundColor:i,stockSeq:6},{backgroundColor:i,stockSeq:7},{backgroundColor:i,stockSeq:8},{backgroundColor:i,stockSeq:9},{backgroundColor:i,stockSeq:10},{backgroundColor:i,stockSeq:11},{backgroundColor:i,stockSeq:12},{backgroundColor:i,stockSeq:13},{backgroundColor:i,stockSeq:14}],s=function(){return[{categoryName:"Plat 1",id:Object(r.a)(),categorySeq:0,stockList:[].concat(u)},{categoryName:"Plat 2",id:Object(r.a)(),categorySeq:1,stockList:[].concat(u)},{categoryName:"Plat 3",id:Object(r.a)(),categorySeq:2,stockList:[].concat(u)},{categoryName:"Plat 4",id:Object(r.a)(),categorySeq:3,stockList:[].concat(u)},{categoryName:"Plat 5",id:Object(r.a)(),categorySeq:4,stockList:[].concat(u)},{categoryName:"Plat 6",id:Object(r.a)(),categorySeq:5,stockList:[].concat(u)}]}},49:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(5),a=Object(r.c)({name:"currentTempOrderId",initialState:"",reducers:{replaceCurrentTempOrderId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""},changeSalePoint:function(e,t){return""}}}),c=Object(r.c)({name:"currentExternalOrderId",initialState:"",reducers:{replaceCurrentExternalOrderId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""},changeSalePoint:function(e,t){return""}}}),o=Object(r.c)({name:"currentSalesmanId",initialState:"",reducers:{replaceCurrentSalesmanId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""}}}),i=a.actions.replaceCurrentTempOrderId,u=c.actions.replaceCurrentExternalOrderId,s=o.actions.replaceCurrentSalesmanId,d=a.reducer,l=c.reducer,f=o.reducer},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(4),a=n(5),c=n(36),o=Object(a.c)({name:"visits",initialState:{},reducers:{replaceVisits:function(e,t){return t.payload},updateVisits:function(e,t){return Object(r.a)(Object(r.a)({},e),t.payload)}},extraReducers:{signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),i=o.actions,u=i.replaceVisits,s=i.updateVisits,d=function(e){return function(t,n){var r=n().user,a=r.userId,o=r.salePointId,i=e||o,s=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5),d=JSON.parse(localStorage.getItem("visits/".concat(a,"/").concat(i)));d&&d.visitsDate===s?(localStorage.setItem("visits/".concat(a,"/").concat(o),JSON.stringify({visitsNum:d.visitsNum,visitsDate:d.visitsDate})),t(u({visitsNum:d.visitsNum,visitsDate:d.visitsDate}))):(localStorage.setItem("visits/".concat(a,"/").concat(o),JSON.stringify({visitsNum:0,visitsDate:s})),t(u({visitsNum:0,visitsDate:s})))}},l=function(){return function(e,t){var n=t().user,r=n.userId,a=n.salePointId,o=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5);o!==t().visits.visitsDate&&(localStorage.setItem("visits/".concat(r,"/").concat(a),JSON.stringify({visitsNum:0,visitsDate:o})),e(u({visitsNum:0,visitsDate:o})))}},f=function(){return function(e,t){var n=t().user,r=n.userId,a=n.salePointId,o=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5),i=t().visits,d=i.visitsNum,l=i.visitsDate;o!==l?(localStorage.setItem("visits/".concat(r,"/").concat(a),JSON.stringify({visitsNum:0,visitsDate:o})),e(u({visitsNum:0,visitsDate:o}))):(localStorage.setItem("visits/".concat(r,"/").concat(a),JSON.stringify({visitsNum:d+1,visitsDate:l})),e(s({visitsNum:d+1})))}};t.a=o.reducer},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d}));var r=n(4),a=n(140),c=n.n(a),o=n(141),i=n.n(o)()(c.a),u=i.mixin({icon:"warning",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,willOpen:function(){i.getContainer().style.position="absolute"},didOpen:function(e){e.addEventListener("mouseenter",i.stopTimer),e.addEventListener("mouseleave",i.resumeTimer)}}),s=function(e,t){u.fire(Object(r.a)(Object(r.a)({},t&&{icon:t}),{},{title:e,target:document.querySelector(".MuiDialog-root")}))},d=function(e,t){var n,r;u.fire({icon:"error",title:"\u932f\u8aa4: ".concat(e.info||(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"\u7372\u53d6\u8cc7\u6599\u5931\u6557"),target:document.querySelector(t)})}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var r,a=n(3),c=n(7),o=n.n(c),i=n(10),u=n(4),s=n(5),d=n(11),l=n(36),f={content:Object(l.d)(),loading:"initial"},p=Object(s.b)("posLayouts/fetchPosLayouts",function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||n.getState().user.salePointId,e.next=3,d.d.get(r,{headers:{Authorization:"Bearer "+n.getState().auth.authenticated}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=function(e,t,n){return function(){var r=Object(i.a)(o.a.mark((function r(a,c){var i,s,l,f,p;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=e.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{categorySeq:t})})),s={list:i},l=c(),f=l.auth.authenticated,p=l.user.salePointId,a({type:"posLayouts/postPosLayouts/pending"}),r.next=7,d.d.post(p,s,{headers:{Authorization:"Bearer "+f}});case 7:a({type:"posLayouts/postPosLayouts/fulfilled",payload:i}),t(),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0.response),a({type:"posLayouts/postPosLayouts/rejected"}),n();case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},b=Object(s.c)({name:"posLayouts",initialState:f,reducers:{replacePosLayouts:function(e,t){e.content=t.payload}},extraReducers:(r={},Object(a.a)(r,p.pending,(function(e,t){e.loading="pending"})),Object(a.a)(r,p.fulfilled,(function(e,t){e.content=t.payload.length>0?t.payload:Object(l.d)(),e.loading="idle"})),Object(a.a)(r,p.rejected,(function(e,t){e.loading="idle"})),Object(a.a)(r,"posLayouts/postPosLayouts/pending",(function(e,t){e.loading="pending"})),Object(a.a)(r,"posLayouts/postPosLayouts/fulfilled",(function(e,t){e.content=t.payload,e.loading="idle"})),Object(a.a)(r,"posLayouts/postPosLayouts/rejected",(function(e,t){e.loading="idle"})),Object(a.a)(r,"signout",(function(e,t){return f})),r)});b.actions.replacePosLayouts;t.a=b.reducer},66:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(4),a=n(13),c=n(5),o=[{id:"91b3c514-daf6-4b33-a71d-ff5fe701b529",timestamp:1642059528103,totalQuantity:4,totalAmount:4450,member:{},content:[{id:"a3d603ea-ac89-4510-8e98-07da4e2e40b1",stockId:"5027314501233",stockName:"Fibreplex \u9bae\u5154\u7e96 15ml (\u689d)",quantity:1,discount:"50",price:450,salePrice:400,originalTotal:450,total:400},{id:"ce7181bf-2477-467e-9124-03c6a56dcf8c",stockId:"304346",stockName:"Virbac\u7dad\u514b Nutri-plus gel \u514b\u88dc\u8edf\u818f (\u689d)",quantity:2,discount:"%5",price:450,salePrice:225,originalTotal:900,total:450},{id:"95c1170f-af6c-410f-bcba-652ed536819e",stockId:"810020601",stockName:"SIMGA T\u578b\u9023\u63a5\u7ba1 100\u689d (\u76d2)",quantity:1,discount:"",price:3600,salePrice:3600,originalTotal:3600,total:3600}]},{id:"f2907995-8aec-4f1a-8af4-e35e31c1a8a1",timestamp:1642055846878,totalQuantity:8,totalAmount:1050,member:{id:"0164AC40-665F-05A9-83A1-608429428429",memberCode:"CU002499",memberName:"\u9673\uff2f\u59a4",email:"",birthdate:null,phone:"0966oooooo",companyPhone:"",homePhone:"",totalConsumption:50,accumulatedBonus:0,salePointId:"",transactionSalePointId:"3ab0ef5c-4e3e-11e6-a94b-42010af00003",pets:[{id:"82EE0E42-BA04-F242-6811-4E20982E20FA",memberId:"0164AC40-665F-05A9-83A1-608429428429",petCode:"",petName:"\u8178\u8178",genderId:"316A7127-127A-4EC3-A57B-118F28F0EB7B",gender:{id:""},birthday:"2017-07-04",petTypeId:"64DC5C6B-AD0A-FCC1-E467-A5C6B5C9C0FC",petVarietyId:"BDDBD805-EDA9-039A-8CEF-81BAC32B3E55",icCard:"0"}]},content:[{id:"c299b56d-e398-476a-8410-71dd4f58f0bc",stockId:"5027314501240",stockName:"Bio-Lapis \u5bf6\u7926\u5154 2g/6\u5305 (\u76d2)",quantity:1,discount:"",price:400,salePrice:400,originalTotal:400,total:400},{id:"05cc27c2-c14c-48e7-bd9c-71a4df863ca8",stockId:"5031812507000-1",stockName:"VetPlus \u9069\u809d\u80fd SAMYLIN \u5c0f\u578b\u72ac\u8c93\u7c89\u5291 1 (\u5305)",quantity:5,discount:"",price:50,salePrice:50,originalTotal:250,total:250},{id:"2e14e56b-1605-47ca-aaec-8542610d9afd",stockId:"806010003",stockName:"E collar (\u5305\u908a)\u982d\u5957 (5)\u865f",quantity:2,discount:"100",price:250,salePrice:200,originalTotal:500,total:400}]}],i=Object(c.c)({name:"tempOrders",initialState:[],reducers:{replaceTempOrders:function(e,t){return t.payload},addTempOrder:function(e,t){return[t.payload].concat(Object(a.a)(e))},editTempOrder:function(e,t){return e.map((function(e){return e.id===t.payload.id?Object(r.a)(Object(r.a)({},e),{},{content:t.payload.order}):e}))},deleteTempOrder:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}},extraReducers:{signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),u=i.actions,s=u.replaceTempOrders,d=u.addTempOrder,l=(u.editTempOrder,u.deleteTempOrder),f=function(){return function(e,t){var n=t().user,r=n.userId,a=n.salePointId,c=JSON.parse(localStorage.getItem("tempOrders/".concat(r,"/").concat(a)))||o;localStorage.setItem("tempOrders/".concat(r,"/").concat(a),JSON.stringify(c)),e(s(c))}},p=function(e){return function(t,n){var r=n().user,c=r.userId,o=r.salePointId,i=JSON.parse(localStorage.getItem("tempOrders/".concat(c,"/").concat(o)))||[],u=i?[e].concat(Object(a.a)(i)):[e];localStorage.setItem("tempOrders/".concat(c,"/").concat(o),JSON.stringify(u)),t(d(e))}},m=function(e){return function(t,n){var r=n().user,a=r.userId,c=r.salePointId,o=JSON.parse(localStorage.getItem("tempOrders/".concat(a,"/").concat(c)));if(o){var i=o.filter((function(t){return t.id!==e}));localStorage.setItem("tempOrders/".concat(a,"/").concat(c),JSON.stringify(i))}t(l(e))}};t.b=i.reducer},71:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(7),a=n.n(r),c=n(10),o=n(4),i=n(5),u=n(11),s=n(74),d=n(49),l={authenticated:"",level:"",errorMessage:""},f=Object(i.c)({name:"auth",initialState:l,reducers:{authUser:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{authenticated:t.payload})},authError:function(e,t){return Object(o.a)(Object(o.a)({},e),{},{errorMessage:t.payload})}},extraReducers:{signout:function(e,t){return l}}}),p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,i,l,f,p,m,b,j,g;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=window.btoa(e.userName+":"+e.password),t.next=4,u.h.post("/login",null,{headers:{Authorization:"Basic "+r,"x-cust":e.xCust}});case 4:return c=t.sent,i=c.data,n(O(i.token)),localStorage.setItem("token",i.token),t.next=10,u.h.get("/me",{headers:{Authorization:"Bearer "+i.token}});case 10:return l=t.sent,f=l.data,t.next=14,u.h.get("/".concat(f.userId,"/salePoints"),{headers:{Authorization:"Bearer "+i.token}});case 14:return p=t.sent,m=p.data,b=Object(o.a)(Object(o.a)({},f),{},{salePoints:m}),n(Object(s.b)(b)),n(Object(d.e)(b.userId)),console.log(b.userId),localStorage.setItem("userInfo",JSON.stringify(b)),t.abrupt("return",!0);case 24:return t.prev=24,t.t0=t.catch(0),n(h("\u9a57\u8b49\u5931\u6557: ".concat(null===(j=t.t0.response)||void 0===j||null===(g=j.data)||void 0===g?void 0:g.error)||!1)),t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return localStorage.removeItem("token"),localStorage.removeItem("userInfo"),{type:"signout"}},b=f.actions,O=b.authUser,h=b.authError;t.a=f.reducer},74:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(4),a=(n(7),n(10),n(5)),c=(n(62),Object(a.c)({name:"user",initialState:{},reducers:{replaceUser:function(e,t){return t.payload}},extraReducers:{signout:function(e,t){return{}},changeSalePoint:function(e,t){var n=Object(r.a)(Object(r.a)({},e),{},{salePointId:t.payload.id,salePoint:t.payload.selectedSalePoint});return localStorage.setItem("userInfo",JSON.stringify(n)),n}}})),o=c.actions.replaceUser;t.a=c.reducer},76:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"j",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"g",(function(){return x})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return C})),n.d(t,"a",(function(){return P})),n.d(t,"k",(function(){return A}));var r,a,c=n(13),o=n(3),i=n(7),u=n.n(i),s=n(10),d=n(5),l=n(11),f=Object(d.b)("externalOrders/fetchExternalOrders",function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:t});case 2:return r=e.sent,a=r.data,e.abrupt("return",a.list);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(d.b)("externalOrders/fetchOrderDetail",function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+n.getState().auth.authenticated}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=Object(d.b)("activeExternalOrder/fetchActiveExternalOrder",function(){var e=Object(s.a)(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+n.getState().auth.authenticated}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(d.c)({name:"externalOrders",initialState:[],reducers:{replaceExternalOrders:function(e,t){return t.payload}},extraReducers:(r={},Object(o.a)(r,f.fulfilled,(function(e,t){return t.payload})),Object(o.a)(r,f.rejected,(function(e,t){return[]})),Object(o.a)(r,p.fulfilled,(function(e,t){return e.map((function(e){return e.id===t.payload.id?t.payload:e}))})),Object(o.a)(r,"signout",(function(e,t){return[]})),Object(o.a)(r,"changeSalePoint",(function(e,t){return[]})),r)}),O=Object(d.c)({name:"activeExternalOrder",initialState:{},reducers:{replaceActiveExternalOrder:function(e,t){return t.payload}},extraReducers:(a={},Object(o.a)(a,m.fulfilled,(function(e,t){return t.payload})),Object(o.a)(a,m.rejected,(function(e,t){return{}})),Object(o.a)(a,"addSelectedExternalOrder",(function(e,t){return t.payload})),Object(o.a)(a,"signout",(function(e,t){return{}})),Object(o.a)(a,"changeSalePoint",(function(e,t){return{}})),a)}),h=Object(d.c)({name:"selectedExternalOrders",initialState:[],reducers:{removeSelectedExternalOrder:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},replaceSelectedExternalOrders:function(e,t){return t.payload},clearSelectedExternalOrders:function(e,t){return[]}},extraReducers:{addSelectedExternalOrder:function(e,t){return[t.payload].concat(Object(c.a)(e))},signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),j=function(e){return function(){var t=Object(s.a)(u.a.mark((function t(n,r){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.c.get("/".concat(e.id),{headers:{Authorization:"Bearer "+r().auth.authenticated}});case 3:a=t.sent,c=a.data,n({type:"addSelectedExternalOrder",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(s.a)(u.a.mark((function t(n,r){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(e.map(function(){var e=Object(s.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+r().auth.authenticated}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:a=t.sent,n(k(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()},v=b.actions.replaceExternalOrders,y=O.actions.replaceActiveExternalOrder,S=h.actions,x=S.removeSelectedExternalOrder,k=S.replaceSelectedExternalOrders,I=S.clearSelectedExternalOrders,C=b.reducer,P=O.reducer,A=h.reducer},97:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d}));var r=n(13),a=n(5),c=Object(a.c)({name:"posStrips",initialState:[],reducers:{replacePosStrips:function(e,t){return t.payload},clearPosStrips:function(e,t){return[]},addPosStrip:function(e,t){return e.find((function(e){return e.id===t.payload.id}))?e:[].concat(Object(r.a)(e),[t.payload])},deletePosStrip:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}},extraReducers:{checkout:function(e,t){return[]},signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),o=c.actions,i=o.replacePosStrips,u=o.clearPosStrips,s=o.addPosStrip,d=o.deletePosStrip;t.c=c.reducer},99:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O}));var r,a=n(3),c=n(4),o=n(7),i=n.n(o),u=n(10),s=n(5),d=n(11),l={content:{},loading:"idle",error:""},f=function(e){var t={};return e.forEach((function(e){t[e.stockId]=e.price?e.price.price:0})),t},p=Object(s.b)("priceMapping/fetchPriceMapping",function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map((function(e){return e.stockId})),a=r.join(","),e.next=4,d.b.get("",{headers:{Authorization:"Bearer "+n.getState().auth.authenticated},params:{stockIds:a,limit:0}});case 4:return c=e.sent,o=c.data,e.abrupt("return",f(o.list));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=Object(s.c)({name:"priceMapping",initialState:l,reducers:{updatePriceMapping:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{content:Object(c.a)(Object(c.a)({},e.content),t.payload)})},replacePriceMapping:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{content:Object(c.a)({},t.payload)})}},extraReducers:(r={},Object(a.a)(r,p.fulfilled,(function(e,t){e.content=t.payload,e.loading="idle"})),Object(a.a)(r,p.pending,(function(e,t){e.loading="pending"})),Object(a.a)(r,p.rejected,(function(e,t){e.loading="idle",e.error="\u50f9\u683c\u8f09\u5165\u5931\u6557"})),Object(a.a)(r,"signout",(function(e,t){return l})),Object(a.a)(r,"changeSalePoint",(function(e,t){return l})),r)}),b=m.actions,O=b.updatePriceMapping;b.replacePriceMapping;t.a=m.reducer}},[[194,4,5]]]);
//# sourceMappingURL=main.ac4a5f4e.chunk.js.map