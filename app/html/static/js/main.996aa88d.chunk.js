(this["webpackJsonpbonvies-pos"]=this["webpackJsonpbonvies-pos"]||[]).push([[3],{101:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return b}));var n,a=r(3),c=r(12),o=r(7),i=r(5),u=r(10),s=r(6),d=r(11),l=Object(s.b)("comms/fetchComms",function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.b.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:Object(i.a)({sort:"sale_start_date desc"},t)});case 2:return n=e.sent,e.abrupt("return",n.data.list);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=Object(s.c)({name:"comms",initialState:[],reducers:{replaceComms:function(e,t){return t.payload},createComm:function(e,t){return[].concat(Object(c.a)(e),[t.payload])},editComm:function(e,t){return e.map((function(e){return e.stockId===t.payload.stockId?t.payload:e}))},deleteComm:function(e,t){return e.filter((function(e){return e.stockId!==t.payload}))}},extraReducers:(n={},Object(a.a)(n,l.fulfilled,(function(e,t){return t.payload})),Object(a.a)(n,l.rejected,(function(e,t){return[]})),Object(a.a)(n,"signout",(function(e,t){return[]})),Object(a.a)(n,"changeSalePoint",(function(e,t){return[]})),n)}),p=f.actions,b=p.replaceComms;p.createComm,p.editComm,p.deleteComm;t.a=f.reducer},102:function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n,a=r(3),c=r(7),o=r(5),i=r(10),u=r(6),s=r(11),d=Object(u.b)("members/fetchMembers",function(){var e=Object(i.a)(Object(c.a)().mark((function e(t,r){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:Object(o.a)({sort:"create_time desc"},t)});case 2:return n=e.sent,a=n.data,e.abrupt("return",a.list);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),l=Object(u.c)({name:"members",initialState:[],reducers:{replaceComms:function(e,t){return t.payload}},extraReducers:(n={},Object(a.a)(n,d.fulfilled,(function(e,t){return t.payload})),Object(a.a)(n,d.rejected,(function(e,t){return[]})),Object(a.a)(n,"signout",(function(e,t){return[]})),Object(a.a)(n,"changeSalePoint",(function(e,t){return[]})),n)});l.actions.replaceComms;t.a=l.reducer},103:function(e,t,r){"use strict";r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return b})),r.d(t,"b",(function(){return j}));var n,a=r(3),c=r(12),o=r(7),i=r(5),u=r(10),s=r(6),d=r(11),l=r(45),f=r(44),p=Object(s.b)("sales/fetchSales",function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,r){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.g.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:Object(i.a)({sort:"date desc"},t)});case 2:if(403!==(n=e.sent).status){e.next=6;break}return Object(l.c)("\u8b66\u544a: \u6b0a\u9650\u4e0d\u8db3","warning"),e.abrupt("return",{});case 6:return e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=Object(s.b)("sales/transferSaleArrear",function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,r){var n,a,c,u,s,f;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.saleId,a=t.arrearId,c=t.paymentId,u=t.value,s=r.getState().paymentMethods.content,f={originSalesPaymentsId:a,repaySalePointPaymentId:c,value:u},e.next=6,d.g.post("/repay/".concat(n),f,{headers:{Authorization:"Bearer "+r.getState().auth.authenticated}});case 6:return e.abrupt("return",Object(i.a)(Object(i.a)({},t),{},{paymentsMapping:s}));case 9:e.prev=9,e.t0=e.catch(0),Object(l.c)("\u932f\u8aa4: \u9084\u6b3e\u5931\u6557","error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()),m=Object(s.c)({name:"sales",initialState:{},reducers:{replaceSales:function(e,t){return t.payload},deleteSale:function(e,t){e.list=e.list.filter((function(e){return e.id!==t.payload}))}},extraReducers:(n={},Object(a.a)(n,p.fulfilled,(function(e,t){return t.payload})),Object(a.a)(n,p.rejected,(function(e,t){return{}})),Object(a.a)(n,b.fulfilled,(function(e,t){var r=t.payload,n=r.saleId,a=r.arrearId,o=r.paymentId,i=r.value,u=r.paymentsMapping,s=e.list.find((function(e){return e.id===n})),d=s.salesPayments,l=d.find((function(e){return e.id===a}));if(l.value<=0)return e;l.value-=i;var p={id:Object(f.a)(),SalePointPayment:u[o],value:i},b=[].concat(Object(c.a)(d),[p]);s.salesPayments=b})),Object(a.a)(n,"signout",(function(e,t){return{}})),Object(a.a)(n,"changeSalePoint",(function(e,t){return{}})),n)}),O=m.actions,j=(O.replaceSales,O.deleteSale);t.a=m.reducer},104:function(e,t,r){"use strict";r.d(t,"g",(function(){return s})),r.d(t,"a",(function(){return d})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return f})),r.d(t,"f",(function(){return p})),r.d(t,"b",(function(){return b}));var n=r(5),a=r(12),c=r(6),o=r(32),i=Object(c.c)({name:"posLayoutDrafts",initialState:[],reducers:{editPosLayoutDrafts:function(e,t){return t.payload},addPosLayoutDraft:function(e,t){return[].concat(Object(a.a)(e),[Object(n.a)(Object(n.a)({},t.payload),{},{stockList:o.f})])},editPosLayoutDraft:function(e,t){return e.map((function(e){return e.id===t.payload.id?t.payload.layout:e}))},deletePosLayoutDraft:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},editPosLayoutDraftItem:function(e,t){return e.map((function(e){if(e.id===t.payload.id){var r=Object(a.a)(e.stockList);return r[t.payload.index]=t.payload.item,Object(n.a)(Object(n.a)({},e),{},{stockList:r})}return e}))},clearPosLayoutDraftItem:function(e,t){return e.map((function(e){if(e.id===t.payload.id){var r=Object(a.a)(e.stockList);return r[t.payload.index]={stockSeq:t.payload.index,backgroundColor:o.e},Object(n.a)(Object(n.a)({},e),{},{stockList:r})}return e}))}},extraReducers:{signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),u=i.actions,s=u.editPosLayoutDrafts,d=u.addPosLayoutDraft,l=u.editPosLayoutDraft,f=u.deletePosLayoutDraft,p=u.editPosLayoutDraftItem,b=u.clearPosLayoutDraftItem;t.c=i.reducer},108:function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n,a=r(3),c=r(7),o=r(10),i=r(6),u=r(11),s=Object(i.b)("paymentMethods/fetchPaymentMethods",function(){var e=Object(o.a)(Object(c.a)().mark((function e(t,r){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.f.get("/payment",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),d=Object(i.c)({name:"paymentMethods",initialState:{loading:"initial",content:{}},reducers:{replacePaymentMethods:function(e,t){e.content=t.payload}},extraReducers:(n={},Object(a.a)(n,s.pending,(function(e,t){e.loading="pending"})),Object(a.a)(n,s.fulfilled,(function(e,t){var r={};t.payload.forEach((function(e){r[e.id]||(r[e.id]=e)})),e.loading="idle",e.content=r})),Object(a.a)(n,s.rejected,(function(e,t){e.loading="pending"})),n)});d.actions.replacePaymentMethods;t.a=d.reducer},109:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"c",(function(){return m}));var n=r(7),a=r(10),c=r(5),o=r(6),i=r(47),u=r(11),s=r(60),d=r(45),l={quantity:0,total:0,primitiveTotal:0},f=function(e,t,r){var n=t?Object(c.a)(Object(c.a)({},e),{},{1:e[1]-t}):e;return Object.keys(n).map((function(e){return Object(c.a)({salePointPaymentId:e,value:n[e]},"2"===e&&(null===r||void 0===r?void 0:r.success)&&(null===r||void 0===r?void 0:r.response)&&{creditCard:{transType:r.response.transType,hostId:r.response.hostId,invoiceNo:r.response.receiptNo,cardNo:r.response.cardNo,transDate:r.response.transDate,transTime:r.response.transTime,approvalCode:r.response.approvalNo}})}))},p=Object(o.c)({name:"posStripsSum",initialState:l,reducers:{replacePosStripsSum:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return l},signout:function(e,t){return l},changeSalePoint:function(e,t){return l}}}),b=function(e){return function(){var t=Object(a.a)(Object(n.a)().mark((function t(r,a){var o,l,p,b,m,O,j,h,v,g,y,S,x,I,k,C,P,A;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=a(),l=o.auth.authenticated,p=o.user,b=o.posStrips,m=o.posStripsSum,O=o.receivedAmounts,j=o.currentSalesmanId,h=o.currentTempOrderId,v=o.currentExternalOrderId,g=o.currentMember,y=o.companyInfo,S=o.creditCardResponse,x={pos:{salePointId:p.salePointId,cashRegisterId:y.cashRegisterId,locCode:p.salePoint.locationCode},sales:Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({userId:p.userId,member:g.id,total:m.primitiveTotal,actualTotal:m.total,quantity:m.quantity,discountRate:0===m.primitiveTotal?100:Math.round(100*m.total/m.primitiveTotal),discountTotal:m.primitiveTotal-m.total},j&&{salesmanCode:j}),v&&{tempSalesId:v}),e.taxId&&{uniformNumber:e.taxId}),e.invoiceCarrier&&{carrierNum:e.invoiceCarrier}),salesDetails:(n=b,n.map((function(e,t){return{itemNo:t+1,stockId:e.stockId,quantity:e.quantity,price:e.price,salePrice:e.salePrice,subTotal:e.total,discountRate:0===e.price?100:Math.round(100*e.total/e.originalTotal)}}))),salesPayments:f(O,e.giveChangeAmount,S)},I={Authorization:"Bearer "+l},t.next=6,u.g.post("",x,{headers:I});case 6:return k=t.sent,C=k.data.salesId,t.next=10,u.g.get("/".concat(C),{headers:I});case 10:return P=t.sent,A=P.data,h&&r(Object(s.c)(h)),r({type:"checkout"}),r(Object(i.b)()),d.a.fire({icon:"success",title:"\u5b8c\u6210\u7d50\u5e33",width:"20rem",timer:1500,showConfirmButton:!1}),t.abrupt("return",A);case 19:return t.prev=19,t.t0=t.catch(0),Object(d.c)(t.t0,"error"),t.abrupt("return",!1);case 23:case"end":return t.stop()}var n}),t,null,[[0,19]])})));return function(e,r){return t.apply(this,arguments)}}()},m=p.actions.replacePosStripsSum;t.b=p.reducer},11:function(e,t,r){"use strict";r.d(t,"h",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"f",(function(){return d})),r.d(t,"d",(function(){return l})),r.d(t,"g",(function(){return f}));var n=r(28),a=r.n(n),c=(a.a.create({baseURL:"https://apidrvet.drvet.info/api"}),a.a.create({baseURL:"https://apidrvet.drvet.info/api/user"})),o=a.a.create({baseURL:"https://apidrvet.drvet.info/api/member"}),i=a.a.create({baseURL:"https://apidrvet.drvet.info/api/stock-master"}),u=a.a.create({baseURL:"https://apidrvet.drvet.info/api/stock-category"}),s=a.a.create({baseURL:"https://apidrvet.drvet.info/api/temp-sales"}),d=a.a.create({baseURL:"https://apidrvet.drvet.info/api/pos"}),l=a.a.create({baseURL:"https://apidrvet.drvet.info/api/pos/stock/grid"}),f=a.a.create({baseURL:"https://apidrvet.drvet.info/api/sales"})},110:function(e,t,r){"use strict";r.d(t,"b",(function(){return c}));var n=r(6),a=Object(n.c)({name:"creditCardResponse",initialState:{},reducers:{replaceCreditCardResponse:function(e,t){return t.payload}}}),c=a.actions.replaceCreditCardResponse;t.a=a.reducer},125:function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));var n,a=r(3),c=r(12),o=r(7),i=r(5),u=r(10),s=r(6),d=r(11),l=Object(s.b)("commClasses/fetchCommClasses",function(){var e=Object(u.a)(Object(o.a)().mark((function e(t,r){var n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:Object(i.a)({limit:"zero"},t)});case 3:return n=e.sent,a=n.data,e.abrupt("return",a.list);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),f=Object(s.c)({name:"commClasses",initialState:[],reducers:{createCommClass:function(e,t){return[].concat(Object(c.a)(e),[t.payload])},editCommClass:function(e,t){return e.map((function(e){return e.ID===t.payload.ID?t.payload:e}))},deleteCommClass:function(e,t){return e.filter((function(e){return e.ID!==t.payload}))}},extraReducers:(n={},Object(a.a)(n,l.fulfilled,(function(e,t){return t.payload})),Object(a.a)(n,l.rejected,(function(e,t){return[]})),Object(a.a)(n,"signout",(function(e,t){return[]})),n)}),p=f.actions;p.createCommClass,p.editCommClass,p.deleteCommClass;t.a=f.reducer},133:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return u}));var n=r(5),a=r(6),c=Object(a.c)({name:"receivedAmounts",initialState:{},reducers:{updateReceivedAmounts:function(e,t){return Object(n.a)(Object(n.a)({},e),t.payload)},replaceReceivedAmounts:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return{}},signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),o=c.actions,i=o.updateReceivedAmounts,u=o.replaceReceivedAmounts;t.a=c.reducer},134:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(6),a={1:"#22B8BB",2:"#DCDE3F",3:"#FFFFFF",4:"#FFAA67",5:"#FFDA64",6:"#FFE5E5"},c=Object(n.c)({name:"palette",initialState:a,reducers:{editPreviousPalette:function(e,t){return{1:t.payload,2:e[1],3:e[2],4:e[3],5:e[4],6:e[5]}}},extraReducers:{signout:function(e,t){return a},changeSalePoint:function(e,t){return a}}}),o=c.actions.editPreviousPalette;t.a=c.reducer},201:function(e,t,r){"use strict";r.r(t);var n,a,c=r(0),o=r.n(c),i=r(29),u=r.n(i),s=r(54),d=r(6),l=r(95),f=r(108),p=r(63),b=r(67),m=r(101),O=r(125),j=r(93),h=r(109),v=r(96),g=r(102),y=r(5),S=Object(d.c)({name:"invoiceInfo",initialState:{taxIDNumber:"",carrierNumber:""},reducers:{updateInvoiceInfo:function(e,t){return Object(y.a)(Object(y.a)({},e),t.payload)}}}),x=(S.actions.updateInvoiceInfo,S.reducer),I=r(133),k=r(110),C=r(69),P=r(103),A=r(3),L=r(7),D=r(10),R=r(11),w=Object(d.b)("salePayments/fetchSalePayments",function(){var e=Object(D.a)(Object(L.a)().mark((function e(t,r){var n,a;return Object(L.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.g.get("/payment/summary",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:t});case 2:return n=e.sent,a=n.data,console.log("fetchSalePayments",a),e.abrupt("return",a.list);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),N=Object(d.c)({name:"salePayments",initialState:[],reducers:{replaceSalePayments:function(e,t){return t.payload}},extraReducers:(n={},Object(A.a)(n,w.fulfilled,(function(e,t){return t.payload})),Object(A.a)(n,w.rejected,(function(e,t){return[]})),n)}),M=(N.actions.replaceSalePayments,N.reducer),B=r(60),E=r(134),z={companyId:"",companyName:"",cashRegisterId:"774a3e8f-b060-11ea-9e33-42010a8c0fd4",cashRegisterName:"Test-1"},T=Object(d.c)({name:"companyInfo",initialState:z,reducers:{updateCompanyInfo:function(e,t){return t.payload}},extraReducers:{signout:function(e,t){return z}}}),q=(T.actions.updateCompanyInfo,T.reducer),X=r(56),F=r(104),U=r(47),H=r(46),J=Object(d.a)({reducer:{priceMapping:l.a,paymentMethods:f.a,auth:p.a,user:b.a,comms:m.a,commClasses:O.a,posStrips:j.c,posStripsSum:h.b,receivedAmounts:I.a,members:g.a,invoiceInfo:x,creditCardResponse:k.a,tempOrders:B.b,externalOrders:C.d,sales:P.a,salePayments:M,currentMember:v.a,currentSalesmanId:H.b,currentTempOrderId:H.c,currentExternalOrderId:H.a,selectedExternalOrders:C.k,activeExternalOrder:C.a,posLayouts:X.a,posLayoutDrafts:F.c,palette:E.a,visits:U.a,companyInfo:q},preloadedState:{auth:{authenticated:localStorage.getItem("token")},user:JSON.parse(localStorage.getItem("userInfo"))||{},currentSalesmanId:(null===(a=JSON.parse(localStorage.getItem("userInfo")))||void 0===a?void 0:a.userId)||""}}),G=r(105),W=r(106),Q=r(111),Y=r(115),V=r(37),Z=r(15),K=r(145),_=r(112),$=r(28),ee=r.n($),te="https://apidrvet.drvet.info/api",re=function(){var e=Object(D.a)(Object(L.a)().mark((function e(){var t,r,n,a,c,o,i,u,s=arguments;return Object(L.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=s.length,r=new Array(t),n=0;n<t;n++)r[n]=s[n];return a=r[0],c=r[1],o=r[2],e.next=4,ee.a.get(te+a,{headers:{Authorization:c&&"Bearer ".concat(c)},params:Object(y.a)({},o)});case 4:if("OK"===(i=e.sent).statusText){e.next=10;break}throw(u=new Error("An error occurred while fetching the data.")).info=i.statusText,u.status=i.status,u;case 10:return e.abrupt("return",i.data);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=r(16),ae=r(144),ce=r(243),oe=r(239),ie=r(240),ue=r(238),se=o.a.createContext({toggleColorMode:function(){}}),de=r(2),le=function(e){return function(t){var r=Object(c.useState)(Object(oe.a)("(prefers-color-scheme: dark)")?"dark":"light"),n=Object(ne.a)(r,2),a=n[0],o=n[1],i=Object(c.useMemo)((function(){return{toggleColorMode:function(){o((function(e){return"light"===e?"dark":"light"}))}}}),[]),u=Object(c.useMemo)((function(){return Object(ae.a)(function(e){return{palette:{mode:e,primary:Object(y.a)({main:"#f2af44"},"dark"===e&&{main:ue.a[300]}),secondary:{main:"#3e414f",matte:"#505877"},background:{default:"#ffffff",light:"#f5f5f5",paper:"#fafafa",darkPaper:"#efefef"},active:{main:"#d5e7ee",light:"#ddf2f9"}},typography:{fontSize:13}}}(a))}),[a]);return Object(de.jsx)(se.Provider,{value:i,children:Object(de.jsxs)(ce.a,{theme:u,children:[Object(de.jsx)(ie.a,{}),Object(de.jsx)(e,Object(y.a)({},t))]})})}},fe=r(55),pe=r(244),be=r(245),me=r(142),Oe=r.n(me),je=r(143),he=r.n(je),ve=Object(s.b)((function(e){return{user:e.user,auth:e.auth.authenticated}}),{signout:p.c,initialVisits:U.c})((function(e){var t=Object(fe.a)();return Object(de.jsxs)(pe.a,{component:"header",sx:{zIndex:10,position:"relative",display:"flex",alignItems:"center",backgroundColor:"background.default",height:"2.5rem",boxShadow:"inset 0px 0px 12px -5px #dddddd","& > div:first-of-type":{flexGrow:1,display:"flex",alignItems:"center"},"& > div:last-of-type":{paddingRight:"1rem"}},children:[Object(de.jsxs)("div",{children:[Object(de.jsx)(V.b,{to:"/",children:Object(de.jsx)(pe.a,{component:"img",src:"data:image/png;base64,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",alt:"header-icon",sx:{padding:"0 0.5em",width:"6rem",height:"1.6rem"}})}),e.auth?Object(de.jsxs)(pe.a,{component:"div",sx:{flex:"1",display:"inline-flex",alignSelf:"stretch","& a":{textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",cursor:"pointer",color:"#333333",margin:"0 0.25em",padding:"1em 0.5em 0",userSelect:"none",transition:"all 0.2s linear"},"& a:hover":{color:t.palette.primary.main},"& a.active":{color:t.palette.primary.main,borderBottom:"0.35em solid ".concat(t.palette.primary.main)}},children:[Object(de.jsx)(V.b,{to:"/",activeClassName:"active",exact:!0,children:"POS\u9996\u9801"}),Object(de.jsx)(V.b,{to:"/pos-order-list",activeClassName:"active",children:"\u92b7\u552e\u660e\u7d30"}),Object(de.jsx)(V.b,{to:"/backstage/comm",activeClassName:"active",children:"\u5546\u54c1\u76ee\u9304"}),Object(de.jsx)(V.b,{to:"/backstage/layout",activeClassName:"active",children:"\u7db2\u683c\u7ba1\u7406"})]}):null]}),e.auth?Object(de.jsxs)(pe.a,{component:"div",sx:{"& select":{color:"#666666",border:"1px solid #dddddd",borderRadius:"0.25em",mr:"0.5em"},"& span":{color:"secondary.main"},"& .MuiSvgIcon-root":{color:"secondary.main"}},children:[Object(de.jsx)(V.b,{to:"/company-config",activeClassName:"active",children:Object(de.jsx)(be.a,{size:"small",children:Object(de.jsx)(Oe.a,{fontSize:"small"})})}),Object(de.jsx)(be.a,{size:"small",onClick:function(){e.signout()},children:Object(de.jsx)(he.a,{fontSize:"small",sx:{transition:"all 0.2s ease-out","&:hover":{color:"error.light"}}})})]}):null]})})),ge=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(7)]).then(r.bind(null,346))})),ye=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(2),r.e(6),r.e(9)]).then(r.bind(null,348))})),Se=Object(c.lazy)((function(){return Promise.all([r.e(2),r.e(10),r.e(14)]).then(r.bind(null,341))})),xe=Object(c.lazy)((function(){return Promise.all([r.e(12),r.e(13)]).then(r.bind(null,353))})),Ie=Object(c.lazy)((function(){return Promise.all([r.e(0),r.e(8),r.e(15)]).then(r.bind(null,342))})),ke=Object(c.lazy)((function(){return r.e(11).then(r.bind(null,352))})),Ce=function(e){Object(Q.a)(r,e);var t=Object(Y.a)(r);function r(){return Object(G.a)(this,r),t.apply(this,arguments)}return Object(W.a)(r,[{key:"render",value:function(){return Object(de.jsx)(K.a,{maxSnack:4,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(de.jsx)(_.a,{value:{fetcher:re},children:Object(de.jsxs)(V.a,{children:[Object(de.jsx)(ve,{}),Object(de.jsx)(c.Suspense,{fallback:null,children:Object(de.jsxs)(Z.c,{children:[Object(de.jsx)(Z.a,{exact:!0,path:"/",component:ge}),Object(de.jsx)(Z.a,{path:"/pos-order-list",component:ye}),Object(de.jsx)(Z.a,{path:"/signin",component:Se}),Object(de.jsx)(Z.a,{path:"/backstage/layout",component:ke}),Object(de.jsx)(Z.a,{path:"/company-config",component:Ie}),Object(de.jsx)(Z.a,{path:"/backstage/comm",component:xe})]})})]})})})}}]),r}(o.a.Component),Pe=le(Ce);r(197),r(198),r(199),r(200);u.a.render(Object(de.jsx)(s.a,{store:J,children:Object(de.jsx)(Pe,{})}),document.querySelector("#root"))},32:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"d",(function(){return s}));var n=r(44),a="quantityMode",c="multi",o=17,i="#fcfcfc",u=[{backgroundColor:i,stockSeq:0},{backgroundColor:i,stockSeq:1},{backgroundColor:i,stockSeq:2},{backgroundColor:i,stockSeq:3},{backgroundColor:i,stockSeq:4},{backgroundColor:i,stockSeq:5},{backgroundColor:i,stockSeq:6},{backgroundColor:i,stockSeq:7},{backgroundColor:i,stockSeq:8},{backgroundColor:i,stockSeq:9},{backgroundColor:i,stockSeq:10},{backgroundColor:i,stockSeq:11},{backgroundColor:i,stockSeq:12},{backgroundColor:i,stockSeq:13},{backgroundColor:i,stockSeq:14}],s=function(){return[{categoryName:"Plat 1",id:Object(n.a)(),categorySeq:0,stockList:[].concat(u)},{categoryName:"Plat 2",id:Object(n.a)(),categorySeq:1,stockList:[].concat(u)},{categoryName:"Plat 3",id:Object(n.a)(),categorySeq:2,stockList:[].concat(u)},{categoryName:"Plat 4",id:Object(n.a)(),categorySeq:3,stockList:[].concat(u)},{categoryName:"Plat 5",id:Object(n.a)(),categorySeq:4,stockList:[].concat(u)},{categoryName:"Plat 6",id:Object(n.a)(),categorySeq:5,stockList:[].concat(u)}]}},45:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return d}));var n=r(5),a=r(137),c=r.n(a),o=r(138),i=r.n(o)()(c.a),u=i.mixin({icon:"warning",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,willOpen:function(){i.getContainer().style.position="absolute"},didOpen:function(e){e.addEventListener("mouseenter",i.stopTimer),e.addEventListener("mouseleave",i.resumeTimer)}}),s=function(e,t){u.fire(Object(n.a)(Object(n.a)({},t&&{icon:t}),{},{title:e,target:document.querySelector(".MuiDialog-root")}))},d=function(e,t){var r,n;u.fire({icon:"error",title:"\u932f\u8aa4: ".concat(e.info||(null===e||void 0===e||null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"\u7372\u53d6\u8cc7\u6599\u5931\u6557"),target:document.querySelector(t)})}},46:function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"f",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(6),a=Object(n.c)({name:"currentTempOrderId",initialState:"",reducers:{replaceCurrentTempOrderId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""},changeSalePoint:function(e,t){return""}}}),c=Object(n.c)({name:"currentExternalOrderId",initialState:"",reducers:{replaceCurrentExternalOrderId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""},changeSalePoint:function(e,t){return""}}}),o=Object(n.c)({name:"currentSalesmanId",initialState:"",reducers:{replaceCurrentSalesmanId:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return""},signout:function(e,t){return""}}}),i=o.actions.replaceCurrentSalesmanId,u=a.actions.replaceCurrentTempOrderId,s=c.actions.replaceCurrentExternalOrderId,d=a.reducer,l=c.reducer,f=o.reducer},47:function(e,t,r){"use strict";r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return f}));var n=r(5),a=r(6),c=r(32),o=Object(a.c)({name:"visits",initialState:{},reducers:{replaceVisits:function(e,t){return t.payload},updateVisits:function(e,t){return Object(n.a)(Object(n.a)({},e),t.payload)}},extraReducers:{signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),i=o.actions,u=i.replaceVisits,s=i.updateVisits,d=function(e){return function(t,r){var n=r().user,a=n.userId,o=n.salePointId,i=e||o,s=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5),d=JSON.parse(localStorage.getItem("visits/".concat(a,"/").concat(i)));d&&d.visitsDate===s?(localStorage.setItem("visits/".concat(a,"/").concat(o),JSON.stringify({visitsNum:d.visitsNum,visitsDate:d.visitsDate})),t(u({visitsNum:d.visitsNum,visitsDate:d.visitsDate}))):(localStorage.setItem("visits/".concat(a,"/").concat(o),JSON.stringify({visitsNum:0,visitsDate:s})),t(u({visitsNum:0,visitsDate:s})))}},l=function(){return function(e,t){var r=t().user,n=r.userId,a=r.salePointId,o=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5);o!==t().visits.visitsDate&&(localStorage.setItem("visits/".concat(n,"/").concat(a),JSON.stringify({visitsNum:0,visitsDate:o})),e(u({visitsNum:0,visitsDate:o})))}},f=function(){return function(e,t){var r=t().user,n=r.userId,a=r.salePointId,o=Math.ceil(((new Date).getTime()-36e5*(c.c-8))/864e5),i=t().visits,d=i.visitsNum,l=i.visitsDate;o!==l?(localStorage.setItem("visits/".concat(n,"/").concat(a),JSON.stringify({visitsNum:0,visitsDate:o})),e(u({visitsNum:0,visitsDate:o}))):(localStorage.setItem("visits/".concat(n,"/").concat(a),JSON.stringify({visitsNum:d+1,visitsDate:l})),e(s({visitsNum:d+1})))}};t.a=o.reducer},56:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p}));var n,a=r(3),c=r(7),o=r(10),i=r(5),u=r(6),s=r(11),d=r(32),l={content:Object(d.d)(),loading:"initial"},f=Object(u.b)("posLayouts/fetchPosLayouts",function(){var e=Object(o.a)(Object(c.a)().mark((function e(t,r){var n,a,o;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||r.getState().user.salePointId,e.next=3,s.d.get(n,{headers:{Authorization:"Bearer "+r.getState().auth.authenticated}});case 3:return a=e.sent,o=a.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=function(e,t,r){return function(){var n=Object(o.a)(Object(c.a)().mark((function n(a,o){var u,d,l,f,p;return Object(c.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u=e.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{categorySeq:t})})),d={list:u},l=o(),f=l.auth.authenticated,p=l.user.salePointId,a({type:"posLayouts/postPosLayouts/pending"}),n.next=7,s.d.post(p,d,{headers:{Authorization:"Bearer "+f}});case 7:a({type:"posLayouts/postPosLayouts/fulfilled",payload:u}),t(),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.response),a({type:"posLayouts/postPosLayouts/rejected"}),r();case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},b=Object(u.c)({name:"posLayouts",initialState:l,reducers:{replacePosLayouts:function(e,t){e.content=t.payload}},extraReducers:(n={},Object(a.a)(n,f.pending,(function(e,t){e.loading="pending"})),Object(a.a)(n,f.fulfilled,(function(e,t){e.content=t.payload.length>0?t.payload:Object(d.d)(),e.loading="idle"})),Object(a.a)(n,f.rejected,(function(e,t){e.loading="idle"})),Object(a.a)(n,"posLayouts/postPosLayouts/pending",(function(e,t){e.loading="pending"})),Object(a.a)(n,"posLayouts/postPosLayouts/fulfilled",(function(e,t){e.content=t.payload,e.loading="idle"})),Object(a.a)(n,"posLayouts/postPosLayouts/rejected",(function(e,t){e.loading="idle"})),Object(a.a)(n,"signout",(function(e,t){return l})),n)});b.actions.replacePosLayouts;t.a=b.reducer},60:function(e,t,r){"use strict";r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return b}));var n=r(5),a=r(12),c=r(6),o=[{id:"91b3c514-daf6-4b33-a71d-ff5fe701b529",timestamp:1642059528103,totalQuantity:4,totalAmount:4450,member:{},content:[{id:"a3d603ea-ac89-4510-8e98-07da4e2e40b1",stockId:"5027314501233",stockName:"Fibreplex \u9bae\u5154\u7e96 15ml (\u689d)",quantity:1,discount:"50",price:450,salePrice:400,originalTotal:450,total:400},{id:"ce7181bf-2477-467e-9124-03c6a56dcf8c",stockId:"304346",stockName:"Virbac\u7dad\u514b Nutri-plus gel \u514b\u88dc\u8edf\u818f (\u689d)",quantity:2,discount:"%5",price:450,salePrice:225,originalTotal:900,total:450},{id:"95c1170f-af6c-410f-bcba-652ed536819e",stockId:"810020601",stockName:"SIMGA T\u578b\u9023\u63a5\u7ba1 100\u689d (\u76d2)",quantity:1,discount:"",price:3600,salePrice:3600,originalTotal:3600,total:3600}]},{id:"f2907995-8aec-4f1a-8af4-e35e31c1a8a1",timestamp:1642055846878,totalQuantity:8,totalAmount:1050,member:{id:"0164AC40-665F-05A9-83A1-608429428429",memberCode:"CU002499",memberName:"\u9673\uff2f\u59a4",email:"",birthdate:null,phone:"0966oooooo",companyPhone:"",homePhone:"",totalConsumption:50,accumulatedBonus:0,salePointId:"",transactionSalePointId:"3ab0ef5c-4e3e-11e6-a94b-42010af00003",pets:[{id:"82EE0E42-BA04-F242-6811-4E20982E20FA",memberId:"0164AC40-665F-05A9-83A1-608429428429",petCode:"",petName:"\u8178\u8178",genderId:"316A7127-127A-4EC3-A57B-118F28F0EB7B",gender:{id:""},birthday:"2017-07-04",petTypeId:"64DC5C6B-AD0A-FCC1-E467-A5C6B5C9C0FC",petVarietyId:"BDDBD805-EDA9-039A-8CEF-81BAC32B3E55",icCard:"0"}]},content:[{id:"c299b56d-e398-476a-8410-71dd4f58f0bc",stockId:"5027314501240",stockName:"Bio-Lapis \u5bf6\u7926\u5154 2g/6\u5305 (\u76d2)",quantity:1,discount:"",price:400,salePrice:400,originalTotal:400,total:400},{id:"05cc27c2-c14c-48e7-bd9c-71a4df863ca8",stockId:"5031812507000-1",stockName:"VetPlus \u9069\u809d\u80fd SAMYLIN \u5c0f\u578b\u72ac\u8c93\u7c89\u5291 1 (\u5305)",quantity:5,discount:"",price:50,salePrice:50,originalTotal:250,total:250},{id:"2e14e56b-1605-47ca-aaec-8542610d9afd",stockId:"806010003",stockName:"E collar (\u5305\u908a)\u982d\u5957 (5)\u865f",quantity:2,discount:"100",price:250,salePrice:200,originalTotal:500,total:400}]}],i=Object(c.c)({name:"tempOrders",initialState:[],reducers:{replaceTempOrders:function(e,t){return t.payload},addTempOrder:function(e,t){return[t.payload].concat(Object(a.a)(e))},editTempOrder:function(e,t){return e.map((function(e){return e.id===t.payload.id?Object(n.a)(Object(n.a)({},e),{},{content:t.payload.order}):e}))},deleteTempOrder:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}},extraReducers:{signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),u=i.actions,s=u.replaceTempOrders,d=u.addTempOrder,l=(u.editTempOrder,u.deleteTempOrder),f=function(){return function(e,t){var r=t().user,n=r.userId,a=r.salePointId,c=JSON.parse(localStorage.getItem("tempOrders/".concat(n,"/").concat(a)))||o;localStorage.setItem("tempOrders/".concat(n,"/").concat(a),JSON.stringify(c)),e(s(c))}},p=function(e){return function(t,r){var n=r().user,c=n.userId,o=n.salePointId,i=JSON.parse(localStorage.getItem("tempOrders/".concat(c,"/").concat(o)))||[],u=i?[e].concat(Object(a.a)(i)):[e];localStorage.setItem("tempOrders/".concat(c,"/").concat(o),JSON.stringify(u)),t(d(e))}},b=function(e){return function(t,r){var n=r().user,a=n.userId,c=n.salePointId,o=JSON.parse(localStorage.getItem("tempOrders/".concat(a,"/").concat(c)));if(o){var i=o.filter((function(t){return t.id!==e}));localStorage.setItem("tempOrders/".concat(a,"/").concat(c),JSON.stringify(i))}t(l(e))}};t.b=i.reducer},63:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p}));var n=r(7),a=r(10),c=r(5),o=r(6),i=r(11),u=r(67),s=r(46),d={authenticated:"",level:"",errorMessage:""},l=Object(o.c)({name:"auth",initialState:d,reducers:{authUser:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{authenticated:t.payload})},authError:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{errorMessage:t.payload})}},extraReducers:{signout:function(e,t){return d}}}),f=function(e){return function(){var t=Object(a.a)(Object(n.a)().mark((function t(r){var a,o,d,l,f,p,b,j,h,v;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=window.btoa(e.userName+":"+e.password),t.next=4,i.h.post("/login",null,{headers:{Authorization:"Basic "+a,"x-cust":e.xCust}});case 4:return o=t.sent,d=o.data,r(m(d.token)),localStorage.setItem("token",d.token),t.next=10,i.h.get("/me",{headers:{Authorization:"Bearer "+d.token}});case 10:return l=t.sent,f=l.data,t.next=14,i.h.get("/".concat(f.userId,"/salePoints"),{headers:{Authorization:"Bearer "+d.token}});case 14:return p=t.sent,b=p.data,j=Object(c.a)(Object(c.a)({},f),{},{salePoints:b}),r(Object(u.b)(j)),r(Object(s.e)(j.userId)),console.log(j.userId),localStorage.setItem("userInfo",JSON.stringify(j)),t.abrupt("return",!0);case 24:return t.prev=24,t.t0=t.catch(0),r(O("\u9a57\u8b49\u5931\u6557: ".concat(null===(h=t.t0.response)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.error)||!1)),t.abrupt("return",!1);case 28:case"end":return t.stop()}}),t,null,[[0,24]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return localStorage.removeItem("token"),localStorage.removeItem("userInfo"),{type:"signout"}},b=l.actions,m=b.authUser,O=b.authError;t.a=l.reducer},67:function(e,t,r){"use strict";r.d(t,"b",(function(){return o}));var n=r(5),a=(r(7),r(10),r(6)),c=(r(56),Object(a.c)({name:"user",initialState:{},reducers:{replaceUser:function(e,t){return t.payload}},extraReducers:{initializeUser:function(e,t){return t.payload},signout:function(e,t){return{}},changeSalePoint:function(e,t){var r=Object(n.a)(Object(n.a)({},e),{},{salePointId:t.payload.id,salePoint:t.payload.selectedSalePoint});return localStorage.setItem("userInfo",JSON.stringify(r)),r}}})),o=c.actions.replaceUser;t.a=c.reducer},69:function(e,t,r){"use strict";r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return p})),r.d(t,"b",(function(){return j})),r.d(t,"j",(function(){return h})),r.d(t,"i",(function(){return v})),r.d(t,"h",(function(){return g})),r.d(t,"g",(function(){return S})),r.d(t,"c",(function(){return I})),r.d(t,"d",(function(){return k})),r.d(t,"a",(function(){return C})),r.d(t,"k",(function(){return P}));var n,a,c=r(12),o=r(3),i=r(7),u=r(10),s=r(6),d=r(11),l=Object(s.b)("externalOrders/fetchExternalOrders",function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,r){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.c.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a.list);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=Object(s.b)("externalOrders/fetchOrderDetail",function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,r){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+r.getState().auth.authenticated}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=Object(s.b)("activeExternalOrder/fetchActiveExternalOrder",function(){var e=Object(u.a)(Object(i.a)().mark((function e(t,r){var n,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+r.getState().auth.authenticated}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),b=Object(s.c)({name:"externalOrders",initialState:[],reducers:{replaceExternalOrders:function(e,t){return t.payload}},extraReducers:(n={},Object(o.a)(n,l.fulfilled,(function(e,t){return t.payload})),Object(o.a)(n,l.rejected,(function(e,t){return[]})),Object(o.a)(n,f.fulfilled,(function(e,t){return e.map((function(e){return e.id===t.payload.id?t.payload:e}))})),Object(o.a)(n,"signout",(function(e,t){return[]})),Object(o.a)(n,"changeSalePoint",(function(e,t){return[]})),n)}),m=Object(s.c)({name:"activeExternalOrder",initialState:{},reducers:{replaceActiveExternalOrder:function(e,t){return t.payload}},extraReducers:(a={},Object(o.a)(a,p.fulfilled,(function(e,t){return t.payload})),Object(o.a)(a,p.rejected,(function(e,t){return{}})),Object(o.a)(a,"addSelectedExternalOrder",(function(e,t){return t.payload})),Object(o.a)(a,"signout",(function(e,t){return{}})),Object(o.a)(a,"changeSalePoint",(function(e,t){return{}})),a)}),O=Object(s.c)({name:"selectedExternalOrders",initialState:[],reducers:{removeSelectedExternalOrder:function(e,t){return e.filter((function(e){return e.id!==t.payload}))},replaceSelectedExternalOrders:function(e,t){return t.payload},clearSelectedExternalOrders:function(e,t){return[]}},extraReducers:{addSelectedExternalOrder:function(e,t){return[t.payload].concat(Object(c.a)(e))},signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),j=function(e){return function(){var t=Object(u.a)(Object(i.a)().mark((function t(r,n){var a,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.c.get("/".concat(e.id),{headers:{Authorization:"Bearer "+n().auth.authenticated}});case 3:a=t.sent,c=a.data,r({type:"addSelectedExternalOrder",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(u.a)(Object(i.a)().mark((function t(r,n){var a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all(e.map(function(){var e=Object(u.a)(Object(i.a)().mark((function e(t){var r,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.c.get("/".concat(t.id),{headers:{Authorization:"Bearer "+n().auth.authenticated}});case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:a=t.sent,r(x(a)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()},v=b.actions.replaceExternalOrders,g=m.actions.replaceActiveExternalOrder,y=O.actions,S=y.removeSelectedExternalOrder,x=y.replaceSelectedExternalOrders,I=y.clearSelectedExternalOrders,k=b.reducer,C=m.reducer,P=O.reducer},93:function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return s})),r.d(t,"d",(function(){return d}));var n=r(12),a=r(6),c=Object(a.c)({name:"posStrips",initialState:[],reducers:{replacePosStrips:function(e,t){return t.payload},clearPosStrips:function(e,t){return[]},addPosStrip:function(e,t){return e.find((function(e){return e.id===t.payload.id}))?e:[].concat(Object(n.a)(e),[t.payload])},deletePosStrip:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}},extraReducers:{checkout:function(e,t){return[]},signout:function(e,t){return[]},changeSalePoint:function(e,t){return[]}}}),o=c.actions,i=o.replacePosStrips,u=o.clearPosStrips,s=o.addPosStrip,d=o.deletePosStrip;t.c=c.reducer},95:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return m}));var n,a=r(3),c=r(5),o=r(7),i=r(10),u=r(6),s=r(11),d={content:{},loading:"idle",error:""},l=function(e){var t={};return e.forEach((function(e){t[e.stockId]=e.price?e.price.price:0})),t},f=Object(u.b)("priceMapping/fetchPriceMapping",function(){var e=Object(i.a)(Object(o.a)().mark((function e(t,r){var n,a,c,i;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return e.stockId})),a=n.join(","),e.next=4,s.b.get("",{headers:{Authorization:"Bearer "+r.getState().auth.authenticated},params:{stockIds:a,limit:0}});case 4:return c=e.sent,i=c.data,e.abrupt("return",l(i.list));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=Object(u.c)({name:"priceMapping",initialState:d,reducers:{updatePriceMapping:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{content:Object(c.a)(Object(c.a)({},e.content),t.payload)})},replacePriceMapping:function(e,t){return Object(c.a)(Object(c.a)({},e),{},{content:Object(c.a)({},t.payload)})}},extraReducers:(n={},Object(a.a)(n,f.fulfilled,(function(e,t){e.content=t.payload,e.loading="idle"})),Object(a.a)(n,f.pending,(function(e,t){e.loading="pending"})),Object(a.a)(n,f.rejected,(function(e,t){e.loading="idle",e.error="\u50f9\u683c\u8f09\u5165\u5931\u6557"})),Object(a.a)(n,"signout",(function(e,t){return d})),Object(a.a)(n,"changeSalePoint",(function(e,t){return d})),n)}),b=p.actions,m=b.updatePriceMapping;b.replacePriceMapping;t.a=p.reducer},96:function(e,t,r){"use strict";r.d(t,"b",(function(){return c}));var n=r(6),a=Object(n.c)({name:"currentMember",initialState:{},reducers:{replaceCurrentMember:function(e,t){return t.payload}},extraReducers:{checkout:function(e,t){return{}},signout:function(e,t){return{}},changeSalePoint:function(e,t){return{}}}}),c=a.actions.replaceCurrentMember;t.a=a.reducer}},[[201,4,5]]]);
//# sourceMappingURL=main.996aa88d.chunk.js.map