(this["webpackJsonpbonvies-pos"]=this["webpackJsonpbonvies-pos"]||[]).push([[15],{338:function(e,t,o){"use strict";o.r(t);var a=o(19),n=o(0),r=o(60),i=o(233),c=o(270),l=o(345),d=o(259),s=o(341),u=o(350),b=o(355),g=o(356),j=o(339),h=o(1),O=["COM1","COM2","COM3","COM4","COM5"];t.default=function(){var e,t,o,p,f=Object(r.d)((function(e){return e.user})),v=null===(e=window.configBridge.getConfig())||void 0===e||null===(t=e.edc)||void 0===t?void 0:t.path,x=null===(o=window.configBridge.getConfig())||void 0===o||null===(p=o.printer)||void 0===p?void 0:p.path,w=Object(n.useState)(window.localStorage.getItem("receiptMode/".concat(f.salePointId))||""),C=Object(a.a)(w,2),m=C[0],B=C[1];console.log(m);var M=Object(n.useState)(v&&O.includes(v)?v:""===v?"other":"COM4"),k=Object(a.a)(M,2),y=k[0],S=k[1],I=Object(n.useState)(x&&O.includes(x)?x:""===x?"other":"COM3"),P=Object(a.a)(I,2),J=P[0],W=P[1],D=Object(n.useState)(v&&O.includes(v)?"":v),E=Object(a.a)(D,2),R=E[0],q=E[1],z=Object(n.useState)(x&&O.includes(x)?"":x),A=Object(a.a)(z,2),F=A[0],G=A[1];Object(n.useEffect)((function(){v||""===v||window.configBridge.setConfig("edc",{path:"COM4"}),x||""===x||window.configBridge.setConfig("printer",{path:"COM3"})}),[v,x]);var H=O.map((function(e){return Object(h.jsx)(b.a,{value:e,control:Object(h.jsx)(l.a,{}),label:e},e)}));return Object(h.jsx)(i.a,{id:"company-config",sx:{width:"100vw",height:"calc(100vh - 2.5rem)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",bgcolor:"background.paper"},children:Object(h.jsxs)(c.a,{container:!0,justifyContent:"flex-start",sx:{width:"90%",maxWidth:"600px"},children:[Object(h.jsx)(d.a,{variant:"h4",sx:{pb:"1rem",flex:"1 0 100%",fontWeight:"bold"},children:"\u9023\u63a5\u7aef\u8a2d\u5b9a"}),Object(h.jsx)(c.a,{item:!0,md:4,children:Object(h.jsxs)(g.a,{sx:{p:"0.75rem",bgcolor:"background.darkPaper",borderRadius:1},children:[Object(h.jsx)(j.a,{id:"demo-controlled-radio-buttons-group",sx:{wordBreak:"keep-all"},children:"\u7d50\u5e33\u55ae\u64da \u5217\u5370\u65b9\u5f0f"}),Object(h.jsxs)(u.a,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:m,onChange:function(e){B(e.target.value),window.localStorage.setItem("receiptMode/".concat(f.salePointId),e.target.value)},children:[Object(h.jsx)(b.a,{value:"",control:Object(h.jsx)(l.a,{}),label:"\u6536\u64da\u6a5f"}),Object(h.jsx)(b.a,{value:"\u5370\u8868\u6a5f",control:Object(h.jsx)(l.a,{}),label:"\u5370\u8868\u6a5f"})]})]})}),Object(h.jsx)(c.a,{item:!0,md:4,children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(j.a,{id:"demo-controlled-radio-buttons-group",children:"\u6536\u64da\u6a5f \u9023\u63a5\u57e0"}),Object(h.jsxs)(u.a,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:J,onChange:function(e){W(e.target.value),"other"===e.target.value?window.configBridge.setConfig("printer",{path:F}):window.configBridge.setConfig("printer",{path:e.target.value})},children:[H,Object(h.jsx)(b.a,{value:"other",control:Object(h.jsx)(l.a,{}),label:Object(h.jsx)(s.a,{variant:"standard",disabled:"other"!==J,value:F,onChange:function(e){G(e.target.value),"other"===y&&window.configBridge.setConfig("printer",{path:e.target.value})}})})]})]})}),Object(h.jsx)(c.a,{item:!0,md:4,children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(j.a,{id:"demo-controlled-radio-buttons-group",children:"\u4fe1\u7528\u5361\u6a5f \u9023\u63a5\u57e0"}),Object(h.jsxs)(u.a,{"aria-labelledby":"demo-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:y,onChange:function(e){S(e.target.value),"other"===e.target.value?window.configBridge.setConfig("edc",{path:R}):window.configBridge.setConfig("edc",{path:e.target.value})},children:[H,Object(h.jsx)(b.a,{value:"other",control:Object(h.jsx)(l.a,{}),label:Object(h.jsx)(s.a,{variant:"standard",disabled:"other"!==y,value:R,onChange:function(e){q(e.target.value),"other"===y&&window.configBridge.setConfig("edc",{path:e.target.value})}})})]})]})})]})})}}}]);
//# sourceMappingURL=15.a49f8384.chunk.js.map